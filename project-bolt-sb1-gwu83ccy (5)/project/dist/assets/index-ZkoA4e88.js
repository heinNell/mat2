(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function nd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fo={exports:{}},Is={},Mo={exports:{}},A={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tr=Symbol.for("react.element"),rd=Symbol.for("react.portal"),sd=Symbol.for("react.fragment"),ld=Symbol.for("react.strict_mode"),id=Symbol.for("react.profiler"),ad=Symbol.for("react.provider"),od=Symbol.for("react.context"),ud=Symbol.for("react.forward_ref"),cd=Symbol.for("react.suspense"),dd=Symbol.for("react.memo"),md=Symbol.for("react.lazy"),ga=Symbol.iterator;function fd(e){return e===null||typeof e!="object"?null:(e=ga&&e[ga]||e["@@iterator"],typeof e=="function"?e:null)}var _o={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Io=Object.assign,zo={};function An(e,t,n){this.props=e,this.context=t,this.refs=zo,this.updater=n||_o}An.prototype.isReactComponent={};An.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};An.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ao(){}Ao.prototype=An.prototype;function vi(e,t,n){this.props=e,this.context=t,this.refs=zo,this.updater=n||_o}var ji=vi.prototype=new Ao;ji.constructor=vi;Io(ji,An.prototype);ji.isPureReactComponent=!0;var ya=Array.isArray,Oo=Object.prototype.hasOwnProperty,Ni={current:null},Lo={key:!0,ref:!0,__self:!0,__source:!0};function $o(e,t,n){var r,l={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Oo.call(t,r)&&!Lo.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),m=0;m<o;m++)c[m]=arguments[m+2];l.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:Tr,type:e,key:i,ref:a,props:l,_owner:Ni.current}}function pd(e,t){return{$$typeof:Tr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wi(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tr}function hd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var va=/\/+/g;function Xs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hd(""+e.key):t.toString(36)}function qr(e,t,n,r,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Tr:case rd:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+Xs(a,0):r,ya(l)?(n="",e!=null&&(n=e.replace(va,"$&/")+"/"),qr(l,t,n,"",function(m){return m})):l!=null&&(wi(l)&&(l=pd(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(va,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",ya(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+Xs(i,o);a+=qr(i,t,n,c,l)}else if(c=fd(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+Xs(i,o++),a+=qr(i,t,n,c,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function _r(e,t,n){if(e==null)return e;var r=[],l=0;return qr(e,r,"","",function(i){return t.call(n,i,l++)}),r}function xd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var be={current:null},Jr={transition:null},gd={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:Jr,ReactCurrentOwner:Ni};function Uo(){throw Error("act(...) is not supported in production builds of React.")}A.Children={map:_r,forEach:function(e,t,n){_r(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _r(e,function(){t++}),t},toArray:function(e){return _r(e,function(t){return t})||[]},only:function(e){if(!wi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};A.Component=An;A.Fragment=sd;A.Profiler=id;A.PureComponent=vi;A.StrictMode=ld;A.Suspense=cd;A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gd;A.act=Uo;A.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Io({},e.props),l=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Ni.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Oo.call(t,c)&&!Lo.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var m=0;m<c;m++)o[m]=arguments[m+2];r.children=o}return{$$typeof:Tr,type:e.type,key:l,ref:i,props:r,_owner:a}};A.createContext=function(e){return e={$$typeof:od,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ad,_context:e},e.Consumer=e};A.createElement=$o;A.createFactory=function(e){var t=$o.bind(null,e);return t.type=e,t};A.createRef=function(){return{current:null}};A.forwardRef=function(e){return{$$typeof:ud,render:e}};A.isValidElement=wi;A.lazy=function(e){return{$$typeof:md,_payload:{_status:-1,_result:e},_init:xd}};A.memo=function(e,t){return{$$typeof:dd,type:e,compare:t===void 0?null:t}};A.startTransition=function(e){var t=Jr.transition;Jr.transition={};try{e()}finally{Jr.transition=t}};A.unstable_act=Uo;A.useCallback=function(e,t){return be.current.useCallback(e,t)};A.useContext=function(e){return be.current.useContext(e)};A.useDebugValue=function(){};A.useDeferredValue=function(e){return be.current.useDeferredValue(e)};A.useEffect=function(e,t){return be.current.useEffect(e,t)};A.useId=function(){return be.current.useId()};A.useImperativeHandle=function(e,t,n){return be.current.useImperativeHandle(e,t,n)};A.useInsertionEffect=function(e,t){return be.current.useInsertionEffect(e,t)};A.useLayoutEffect=function(e,t){return be.current.useLayoutEffect(e,t)};A.useMemo=function(e,t){return be.current.useMemo(e,t)};A.useReducer=function(e,t,n){return be.current.useReducer(e,t,n)};A.useRef=function(e){return be.current.useRef(e)};A.useState=function(e){return be.current.useState(e)};A.useSyncExternalStore=function(e,t,n){return be.current.useSyncExternalStore(e,t,n)};A.useTransition=function(){return be.current.useTransition()};A.version="18.3.1";Mo.exports=A;var E=Mo.exports;const yd=nd(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd=E,jd=Symbol.for("react.element"),Nd=Symbol.for("react.fragment"),wd=Object.prototype.hasOwnProperty,Cd=vd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sd={key:!0,ref:!0,__self:!0,__source:!0};function Bo(e,t,n){var r,l={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)wd.call(t,r)&&!Sd.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:jd,type:e,key:i,ref:a,props:l,_owner:Cd.current}}Is.Fragment=Nd;Is.jsx=Bo;Is.jsxs=Bo;Fo.exports=Is;var s=Fo.exports,Vo={exports:{}},Ue={},Ho={exports:{}},Wo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,M){var I=D.length;D.push(M);e:for(;0<I;){var W=I-1>>>1,J=D[W];if(0<l(J,M))D[W]=M,D[I]=J,I=W;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var M=D[0],I=D.pop();if(I!==M){D[0]=I;e:for(var W=0,J=D.length,T=J>>>1;W<T;){var _=2*(W+1)-1,re=D[_],_e=_+1,se=D[_e];if(0>l(re,I))_e<J&&0>l(se,re)?(D[W]=se,D[_e]=I,W=_e):(D[W]=re,D[_]=I,W=_);else if(_e<J&&0>l(se,I))D[W]=se,D[_e]=I,W=_e;else break e}}return M}function l(D,M){var I=D.sortIndex-M.sortIndex;return I!==0?I:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],m=[],h=1,p=null,g=3,C=!1,j=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(D){for(var M=n(m);M!==null;){if(M.callback===null)r(m);else if(M.startTime<=D)r(m),M.sortIndex=M.expirationTime,t(c,M);else break;M=n(m)}}function x(D){if(v=!1,f(D),!j)if(n(c)!==null)j=!0,Ze(w);else{var M=n(m);M!==null&&fe(x,M.startTime-D)}}function w(D,M){j=!1,v&&(v=!1,d(P),P=-1),C=!0;var I=g;try{for(f(M),p=n(c);p!==null&&(!(p.expirationTime>M)||D&&!te());){var W=p.callback;if(typeof W=="function"){p.callback=null,g=p.priorityLevel;var J=W(p.expirationTime<=M);M=e.unstable_now(),typeof J=="function"?p.callback=J:p===n(c)&&r(c),f(M)}else r(c);p=n(c)}if(p!==null)var T=!0;else{var _=n(m);_!==null&&fe(x,_.startTime-M),T=!1}return T}finally{p=null,g=I,C=!1}}var k=!1,R=null,P=-1,B=5,F=-1;function te(){return!(e.unstable_now()-F<B)}function Ce(){if(R!==null){var D=e.unstable_now();F=D;var M=!0;try{M=R(!0,D)}finally{M?ae():(k=!1,R=null)}}else k=!1}var ae;if(typeof u=="function")ae=function(){u(Ce)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,ne=ct.port2;ct.port1.onmessage=Ce,ae=function(){ne.postMessage(null)}}else ae=function(){N(Ce,0)};function Ze(D){R=D,k||(k=!0,ae())}function fe(D,M){P=N(function(){D(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){j||C||(j=!0,Ze(w))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(g){case 1:case 2:case 3:var M=3;break;default:M=g}var I=g;g=M;try{return D()}finally{g=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var I=g;g=D;try{return M()}finally{g=I}},e.unstable_scheduleCallback=function(D,M,I){var W=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?W+I:W):I=W,D){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=I+J,D={id:h++,callback:M,priorityLevel:D,startTime:I,expirationTime:J,sortIndex:-1},I>W?(D.sortIndex=I,t(m,D),n(c)===null&&D===n(m)&&(v?(d(P),P=-1):v=!0,fe(x,I-W))):(D.sortIndex=J,t(c,D),j||C||(j=!0,Ze(w))),D},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(D){var M=g;return function(){var I=g;g=M;try{return D.apply(this,arguments)}finally{g=I}}}})(Wo);Ho.exports=Wo;var kd=Ho.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd=E,$e=kd;function S(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ko=new Set,ur={};function ln(e,t){En(e,t),En(e+"Capture",t)}function En(e,t){for(ur[e]=t,e=0;e<t.length;e++)Ko.add(t[e])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=Object.prototype.hasOwnProperty,bd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ja={},Na={};function Td(e){return Cl.call(Na,e)?!0:Cl.call(ja,e)?!1:bd.test(e)?Na[e]=!0:(ja[e]=!0,!1)}function Ed(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rd(e,t,n,r){if(t===null||typeof t>"u"||Ed(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Te(e,t,n,r,l,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xe[e]=new Te(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xe[t]=new Te(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xe[e]=new Te(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xe[e]=new Te(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xe[e]=new Te(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xe[e]=new Te(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xe[e]=new Te(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xe[e]=new Te(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xe[e]=new Te(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ci=/[\-:]([a-z])/g;function Si(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ci,Si);xe[t]=new Te(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ci,Si);xe[t]=new Te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ci,Si);xe[t]=new Te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xe[e]=new Te(e,1,!1,e.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xe[e]=new Te(e,1,!1,e.toLowerCase(),null,!0,!0)});function ki(e,t,n,r){var l=xe.hasOwnProperty(t)?xe[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rd(t,n,l,r)&&(n=null),r||l===null?Td(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wt=Dd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ir=Symbol.for("react.element"),cn=Symbol.for("react.portal"),dn=Symbol.for("react.fragment"),Di=Symbol.for("react.strict_mode"),Sl=Symbol.for("react.profiler"),Qo=Symbol.for("react.provider"),Go=Symbol.for("react.context"),bi=Symbol.for("react.forward_ref"),kl=Symbol.for("react.suspense"),Dl=Symbol.for("react.suspense_list"),Ti=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Yo=Symbol.for("react.offscreen"),wa=Symbol.iterator;function Un(e){return e===null||typeof e!="object"?null:(e=wa&&e[wa]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,qs;function Yn(e){if(qs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qs=t&&t[1]||""}return`
`+qs+e}var Js=!1;function el(e,t){if(!e||Js)return"";Js=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){r=m}e.call(t.prototype)}else{try{throw Error()}catch(m){r=m}e()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var l=m.stack.split(`
`),i=r.stack.split(`
`),a=l.length-1,o=i.length-1;1<=a&&0<=o&&l[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(l[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||l[a]!==i[o]){var c=`
`+l[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{Js=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yn(e):""}function Pd(e){switch(e.tag){case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 2:case 15:return e=el(e.type,!1),e;case 11:return e=el(e.type.render,!1),e;case 1:return e=el(e.type,!0),e;default:return""}}function bl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dn:return"Fragment";case cn:return"Portal";case Sl:return"Profiler";case Di:return"StrictMode";case kl:return"Suspense";case Dl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Go:return(e.displayName||"Context")+".Consumer";case Qo:return(e._context.displayName||"Context")+".Provider";case bi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ti:return t=e.displayName||null,t!==null?t:bl(e.type)||"Memo";case kt:t=e._payload,e=e._init;try{return bl(e(t))}catch{}}return null}function Fd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bl(t);case 8:return t===Di?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $t(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Md(e){var t=Zo(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zr(e){e._valueTracker||(e._valueTracker=Md(e))}function Xo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Zo(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tl(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ca(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=$t(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qo(e,t){t=t.checked,t!=null&&ki(e,"checked",t,!1)}function El(e,t){qo(e,t);var n=$t(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Rl(e,t.type,$t(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Rl(e,t,n){(t!=="number"||cs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zn=Array.isArray;function wn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$t(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Pl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(S(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ka(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(S(92));if(Zn(n)){if(1<n.length)throw Error(S(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:$t(n)}}function Jo(e,t){var n=$t(t.value),r=$t(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Da(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ar,tu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ar=Ar||document.createElement("div"),Ar.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ar.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_d=["Webkit","ms","Moz","O"];Object.keys(Jn).forEach(function(e){_d.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jn[t]=Jn[e]})});function nu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Jn.hasOwnProperty(e)&&Jn[e]?(""+t).trim():t+"px"}function ru(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=nu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Id=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ml(e,t){if(t){if(Id[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(S(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(S(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(S(61))}if(t.style!=null&&typeof t.style!="object")throw Error(S(62))}}function _l(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Il=null;function Ei(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zl=null,Cn=null,Sn=null;function ba(e){if(e=Pr(e)){if(typeof zl!="function")throw Error(S(280));var t=e.stateNode;t&&(t=$s(t),zl(e.stateNode,e.type,t))}}function su(e){Cn?Sn?Sn.push(e):Sn=[e]:Cn=e}function lu(){if(Cn){var e=Cn,t=Sn;if(Sn=Cn=null,ba(e),t)for(e=0;e<t.length;e++)ba(t[e])}}function iu(e,t){return e(t)}function au(){}var tl=!1;function ou(e,t,n){if(tl)return e(t,n);tl=!0;try{return iu(e,t,n)}finally{tl=!1,(Cn!==null||Sn!==null)&&(au(),lu())}}function dr(e,t){var n=e.stateNode;if(n===null)return null;var r=$s(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(S(231,t,typeof n));return n}var Al=!1;if(yt)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){Al=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{Al=!1}function zd(e,t,n,r,l,i,a,o,c){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(h){this.onError(h)}}var er=!1,ds=null,ms=!1,Ol=null,Ad={onError:function(e){er=!0,ds=e}};function Od(e,t,n,r,l,i,a,o,c){er=!1,ds=null,zd.apply(Ad,arguments)}function Ld(e,t,n,r,l,i,a,o,c){if(Od.apply(this,arguments),er){if(er){var m=ds;er=!1,ds=null}else throw Error(S(198));ms||(ms=!0,Ol=m)}}function an(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function uu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ta(e){if(an(e)!==e)throw Error(S(188))}function $d(e){var t=e.alternate;if(!t){if(t=an(e),t===null)throw Error(S(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return Ta(l),e;if(i===r)return Ta(l),t;i=i.sibling}throw Error(S(188))}if(n.return!==r.return)n=l,r=i;else{for(var a=!1,o=l.child;o;){if(o===n){a=!0,n=l,r=i;break}if(o===r){a=!0,r=l,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=l;break}if(o===r){a=!0,r=i,n=l;break}o=o.sibling}if(!a)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?e:t}function cu(e){return e=$d(e),e!==null?du(e):null}function du(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=du(e);if(t!==null)return t;e=e.sibling}return null}var mu=$e.unstable_scheduleCallback,Ea=$e.unstable_cancelCallback,Ud=$e.unstable_shouldYield,Bd=$e.unstable_requestPaint,le=$e.unstable_now,Vd=$e.unstable_getCurrentPriorityLevel,Ri=$e.unstable_ImmediatePriority,fu=$e.unstable_UserBlockingPriority,fs=$e.unstable_NormalPriority,Hd=$e.unstable_LowPriority,pu=$e.unstable_IdlePriority,zs=null,at=null;function Wd(e){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(zs,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Gd,Kd=Math.log,Qd=Math.LN2;function Gd(e){return e>>>=0,e===0?32:31-(Kd(e)/Qd|0)|0}var Or=64,Lr=4194304;function Xn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ps(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~l;o!==0?r=Xn(o):(i&=a,i!==0&&(r=Xn(i)))}else a=n&~l,a!==0?r=Xn(a):i!==0&&(r=Xn(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tt(t),l=1<<n,r|=e[n],t&=~l;return r}function Yd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-tt(i),o=1<<a,c=l[a];c===-1?(!(o&n)||o&r)&&(l[a]=Yd(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hu(){var e=Or;return Or<<=1,!(Or&4194240)&&(Or=64),e}function nl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Er(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=n}function Xd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-tt(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function Pi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var V=0;function xu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gu,Fi,yu,vu,ju,$l=!1,$r=[],Ft=null,Mt=null,_t=null,mr=new Map,fr=new Map,bt=[],qd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ra(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":mr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fr.delete(t.pointerId)}}function Vn(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Pr(t),t!==null&&Fi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Jd(e,t,n,r,l){switch(t){case"focusin":return Ft=Vn(Ft,e,t,n,r,l),!0;case"dragenter":return Mt=Vn(Mt,e,t,n,r,l),!0;case"mouseover":return _t=Vn(_t,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return mr.set(i,Vn(mr.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,fr.set(i,Vn(fr.get(i)||null,e,t,n,r,l)),!0}return!1}function Nu(e){var t=Gt(e.target);if(t!==null){var n=an(t);if(n!==null){if(t=n.tag,t===13){if(t=uu(n),t!==null){e.blockedOn=t,ju(e.priority,function(){yu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function es(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ul(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Il=r,n.target.dispatchEvent(r),Il=null}else return t=Pr(n),t!==null&&Fi(t),e.blockedOn=n,!1;t.shift()}return!0}function Pa(e,t,n){es(e)&&n.delete(t)}function em(){$l=!1,Ft!==null&&es(Ft)&&(Ft=null),Mt!==null&&es(Mt)&&(Mt=null),_t!==null&&es(_t)&&(_t=null),mr.forEach(Pa),fr.forEach(Pa)}function Hn(e,t){e.blockedOn===t&&(e.blockedOn=null,$l||($l=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,em)))}function pr(e){function t(l){return Hn(l,e)}if(0<$r.length){Hn($r[0],e);for(var n=1;n<$r.length;n++){var r=$r[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ft!==null&&Hn(Ft,e),Mt!==null&&Hn(Mt,e),_t!==null&&Hn(_t,e),mr.forEach(t),fr.forEach(t),n=0;n<bt.length;n++)r=bt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<bt.length&&(n=bt[0],n.blockedOn===null);)Nu(n),n.blockedOn===null&&bt.shift()}var kn=wt.ReactCurrentBatchConfig,hs=!0;function tm(e,t,n,r){var l=V,i=kn.transition;kn.transition=null;try{V=1,Mi(e,t,n,r)}finally{V=l,kn.transition=i}}function nm(e,t,n,r){var l=V,i=kn.transition;kn.transition=null;try{V=4,Mi(e,t,n,r)}finally{V=l,kn.transition=i}}function Mi(e,t,n,r){if(hs){var l=Ul(e,t,n,r);if(l===null)ml(e,t,r,xs,n),Ra(e,r);else if(Jd(l,e,t,n,r))r.stopPropagation();else if(Ra(e,r),t&4&&-1<qd.indexOf(e)){for(;l!==null;){var i=Pr(l);if(i!==null&&gu(i),i=Ul(e,t,n,r),i===null&&ml(e,t,r,xs,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else ml(e,t,r,null,n)}}var xs=null;function Ul(e,t,n,r){if(xs=null,e=Ei(r),e=Gt(e),e!==null)if(t=an(e),t===null)e=null;else if(n=t.tag,n===13){if(e=uu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xs=e,null}function wu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vd()){case Ri:return 1;case fu:return 4;case fs:case Hd:return 16;case pu:return 536870912;default:return 16}default:return 16}}var Et=null,_i=null,ts=null;function Cu(){if(ts)return ts;var e,t=_i,n=t.length,r,l="value"in Et?Et.value:Et.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[i-r];r++);return ts=l.slice(e,1<r?1-r:void 0)}function ns(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ur(){return!0}function Fa(){return!1}function Be(e){function t(n,r,l,i,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ur:Fa,this.isPropagationStopped=Fa,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),t}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Be(On),Rr=q({},On,{view:0,detail:0}),rm=Be(Rr),rl,sl,Wn,As=q({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(rl=e.screenX-Wn.screenX,sl=e.screenY-Wn.screenY):sl=rl=0,Wn=e),rl)},movementY:function(e){return"movementY"in e?e.movementY:sl}}),Ma=Be(As),sm=q({},As,{dataTransfer:0}),lm=Be(sm),im=q({},Rr,{relatedTarget:0}),ll=Be(im),am=q({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),om=Be(am),um=q({},On,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cm=Be(um),dm=q({},On,{data:0}),_a=Be(dm),mm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pm[e])?!!t[e]:!1}function zi(){return hm}var xm=q({},Rr,{key:function(e){if(e.key){var t=mm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zi,charCode:function(e){return e.type==="keypress"?ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gm=Be(xm),ym=q({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ia=Be(ym),vm=q({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zi}),jm=Be(vm),Nm=q({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),wm=Be(Nm),Cm=q({},As,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sm=Be(Cm),km=[9,13,27,32],Ai=yt&&"CompositionEvent"in window,tr=null;yt&&"documentMode"in document&&(tr=document.documentMode);var Dm=yt&&"TextEvent"in window&&!tr,Su=yt&&(!Ai||tr&&8<tr&&11>=tr),za=" ",Aa=!1;function ku(e,t){switch(e){case"keyup":return km.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Du(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mn=!1;function bm(e,t){switch(e){case"compositionend":return Du(t);case"keypress":return t.which!==32?null:(Aa=!0,za);case"textInput":return e=t.data,e===za&&Aa?null:e;default:return null}}function Tm(e,t){if(mn)return e==="compositionend"||!Ai&&ku(e,t)?(e=Cu(),ts=_i=Et=null,mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Su&&t.locale!=="ko"?null:t.data;default:return null}}var Em={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Em[e.type]:t==="textarea"}function bu(e,t,n,r){su(r),t=gs(t,"onChange"),0<t.length&&(n=new Ii("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nr=null,hr=null;function Rm(e){Ou(e,0)}function Os(e){var t=hn(e);if(Xo(t))return e}function Pm(e,t){if(e==="change")return t}var Tu=!1;if(yt){var il;if(yt){var al="oninput"in document;if(!al){var La=document.createElement("div");La.setAttribute("oninput","return;"),al=typeof La.oninput=="function"}il=al}else il=!1;Tu=il&&(!document.documentMode||9<document.documentMode)}function $a(){nr&&(nr.detachEvent("onpropertychange",Eu),hr=nr=null)}function Eu(e){if(e.propertyName==="value"&&Os(hr)){var t=[];bu(t,hr,e,Ei(e)),ou(Rm,t)}}function Fm(e,t,n){e==="focusin"?($a(),nr=t,hr=n,nr.attachEvent("onpropertychange",Eu)):e==="focusout"&&$a()}function Mm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Os(hr)}function _m(e,t){if(e==="click")return Os(t)}function Im(e,t){if(e==="input"||e==="change")return Os(t)}function zm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:zm;function xr(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Cl.call(t,l)||!rt(e[l],t[l]))return!1}return!0}function Ua(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ba(e,t){var n=Ua(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ua(n)}}function Ru(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ru(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pu(){for(var e=window,t=cs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=cs(e.document)}return t}function Oi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Am(e){var t=Pu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ru(n.ownerDocument.documentElement,n)){if(r!==null&&Oi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=Ba(n,i);var a=Ba(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Om=yt&&"documentMode"in document&&11>=document.documentMode,fn=null,Bl=null,rr=null,Vl=!1;function Va(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vl||fn==null||fn!==cs(r)||(r=fn,"selectionStart"in r&&Oi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rr&&xr(rr,r)||(rr=r,r=gs(Bl,"onSelect"),0<r.length&&(t=new Ii("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fn)))}function Br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pn={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionend:Br("Transition","TransitionEnd")},ol={},Fu={};yt&&(Fu=document.createElement("div").style,"AnimationEvent"in window||(delete pn.animationend.animation,delete pn.animationiteration.animation,delete pn.animationstart.animation),"TransitionEvent"in window||delete pn.transitionend.transition);function Ls(e){if(ol[e])return ol[e];if(!pn[e])return e;var t=pn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fu)return ol[e]=t[n];return e}var Mu=Ls("animationend"),_u=Ls("animationiteration"),Iu=Ls("animationstart"),zu=Ls("transitionend"),Au=new Map,Ha="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(e,t){Au.set(e,t),ln(t,[e])}for(var ul=0;ul<Ha.length;ul++){var cl=Ha[ul],Lm=cl.toLowerCase(),$m=cl[0].toUpperCase()+cl.slice(1);Bt(Lm,"on"+$m)}Bt(Mu,"onAnimationEnd");Bt(_u,"onAnimationIteration");Bt(Iu,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(zu,"onTransitionEnd");En("onMouseEnter",["mouseout","mouseover"]);En("onMouseLeave",["mouseout","mouseover"]);En("onPointerEnter",["pointerout","pointerover"]);En("onPointerLeave",["pointerout","pointerover"]);ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Um=new Set("cancel close invalid load scroll toggle".split(" ").concat(qn));function Wa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ld(r,t,void 0,e),e.currentTarget=null}function Ou(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,m=o.currentTarget;if(o=o.listener,c!==i&&l.isPropagationStopped())break e;Wa(l,o,m),i=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,m=o.currentTarget,o=o.listener,c!==i&&l.isPropagationStopped())break e;Wa(l,o,m),i=c}}}if(ms)throw e=Ol,ms=!1,Ol=null,e}function Q(e,t){var n=t[Gl];n===void 0&&(n=t[Gl]=new Set);var r=e+"__bubble";n.has(r)||(Lu(t,e,2,!1),n.add(r))}function dl(e,t,n){var r=0;t&&(r|=4),Lu(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function gr(e){if(!e[Vr]){e[Vr]=!0,Ko.forEach(function(n){n!=="selectionchange"&&(Um.has(n)||dl(n,!1,e),dl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vr]||(t[Vr]=!0,dl("selectionchange",!1,t))}}function Lu(e,t,n,r){switch(wu(t)){case 1:var l=tm;break;case 4:l=nm;break;default:l=Mi}n=l.bind(null,t,n,e),l=void 0,!Al||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ml(e,t,n,r,l){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;a=a.return}for(;o!==null;){if(a=Gt(o),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}o=o.parentNode}}r=r.return}ou(function(){var m=i,h=Ei(n),p=[];e:{var g=Au.get(e);if(g!==void 0){var C=Ii,j=e;switch(e){case"keypress":if(ns(n)===0)break e;case"keydown":case"keyup":C=gm;break;case"focusin":j="focus",C=ll;break;case"focusout":j="blur",C=ll;break;case"beforeblur":case"afterblur":C=ll;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Ma;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=jm;break;case Mu:case _u:case Iu:C=om;break;case zu:C=wm;break;case"scroll":C=rm;break;case"wheel":C=Sm;break;case"copy":case"cut":case"paste":C=cm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Ia}var v=(t&4)!==0,N=!v&&e==="scroll",d=v?g!==null?g+"Capture":null:g;v=[];for(var u=m,f;u!==null;){f=u;var x=f.stateNode;if(f.tag===5&&x!==null&&(f=x,d!==null&&(x=dr(u,d),x!=null&&v.push(yr(u,x,f)))),N)break;u=u.return}0<v.length&&(g=new C(g,j,null,n,h),p.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",g&&n!==Il&&(j=n.relatedTarget||n.fromElement)&&(Gt(j)||j[vt]))break e;if((C||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,C?(j=n.relatedTarget||n.toElement,C=m,j=j?Gt(j):null,j!==null&&(N=an(j),j!==N||j.tag!==5&&j.tag!==6)&&(j=null)):(C=null,j=m),C!==j)){if(v=Ma,x="onMouseLeave",d="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(v=Ia,x="onPointerLeave",d="onPointerEnter",u="pointer"),N=C==null?g:hn(C),f=j==null?g:hn(j),g=new v(x,u+"leave",C,n,h),g.target=N,g.relatedTarget=f,x=null,Gt(h)===m&&(v=new v(d,u+"enter",j,n,h),v.target=f,v.relatedTarget=N,x=v),N=x,C&&j)t:{for(v=C,d=j,u=0,f=v;f;f=un(f))u++;for(f=0,x=d;x;x=un(x))f++;for(;0<u-f;)v=un(v),u--;for(;0<f-u;)d=un(d),f--;for(;u--;){if(v===d||d!==null&&v===d.alternate)break t;v=un(v),d=un(d)}v=null}else v=null;C!==null&&Ka(p,g,C,v,!1),j!==null&&N!==null&&Ka(p,N,j,v,!0)}}e:{if(g=m?hn(m):window,C=g.nodeName&&g.nodeName.toLowerCase(),C==="select"||C==="input"&&g.type==="file")var w=Pm;else if(Oa(g))if(Tu)w=Im;else{w=Mm;var k=Fm}else(C=g.nodeName)&&C.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(w=_m);if(w&&(w=w(e,m))){bu(p,w,n,h);break e}k&&k(e,g,m),e==="focusout"&&(k=g._wrapperState)&&k.controlled&&g.type==="number"&&Rl(g,"number",g.value)}switch(k=m?hn(m):window,e){case"focusin":(Oa(k)||k.contentEditable==="true")&&(fn=k,Bl=m,rr=null);break;case"focusout":rr=Bl=fn=null;break;case"mousedown":Vl=!0;break;case"contextmenu":case"mouseup":case"dragend":Vl=!1,Va(p,n,h);break;case"selectionchange":if(Om)break;case"keydown":case"keyup":Va(p,n,h)}var R;if(Ai)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else mn?ku(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Su&&n.locale!=="ko"&&(mn||P!=="onCompositionStart"?P==="onCompositionEnd"&&mn&&(R=Cu()):(Et=h,_i="value"in Et?Et.value:Et.textContent,mn=!0)),k=gs(m,P),0<k.length&&(P=new _a(P,e,null,n,h),p.push({event:P,listeners:k}),R?P.data=R:(R=Du(n),R!==null&&(P.data=R)))),(R=Dm?bm(e,n):Tm(e,n))&&(m=gs(m,"onBeforeInput"),0<m.length&&(h=new _a("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:m}),h.data=R))}Ou(p,t)})}function yr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gs(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=dr(e,n),i!=null&&r.unshift(yr(e,i,l)),i=dr(e,t),i!=null&&r.push(yr(e,i,l))),e=e.return}return r}function un(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ka(e,t,n,r,l){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,m=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&m!==null&&(o=m,l?(c=dr(n,i),c!=null&&a.unshift(yr(n,c,o))):l||(c=dr(n,i),c!=null&&a.push(yr(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Bm=/\r\n?/g,Vm=/\u0000|\uFFFD/g;function Qa(e){return(typeof e=="string"?e:""+e).replace(Bm,`
`).replace(Vm,"")}function Hr(e,t,n){if(t=Qa(t),Qa(e)!==t&&n)throw Error(S(425))}function ys(){}var Hl=null,Wl=null;function Kl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ql=typeof setTimeout=="function"?setTimeout:void 0,Hm=typeof clearTimeout=="function"?clearTimeout:void 0,Ga=typeof Promise=="function"?Promise:void 0,Wm=typeof queueMicrotask=="function"?queueMicrotask:typeof Ga<"u"?function(e){return Ga.resolve(null).then(e).catch(Km)}:Ql;function Km(e){setTimeout(function(){throw e})}function fl(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),pr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);pr(t)}function It(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ya(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ln=Math.random().toString(36).slice(2),it="__reactFiber$"+Ln,vr="__reactProps$"+Ln,vt="__reactContainer$"+Ln,Gl="__reactEvents$"+Ln,Qm="__reactListeners$"+Ln,Gm="__reactHandles$"+Ln;function Gt(e){var t=e[it];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vt]||n[it]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ya(e);e!==null;){if(n=e[it])return n;e=Ya(e)}return t}e=n,n=e.parentNode}return null}function Pr(e){return e=e[it]||e[vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(S(33))}function $s(e){return e[vr]||null}var Yl=[],xn=-1;function Vt(e){return{current:e}}function G(e){0>xn||(e.current=Yl[xn],Yl[xn]=null,xn--)}function K(e,t){xn++,Yl[xn]=e.current,e.current=t}var Ut={},we=Vt(Ut),Pe=Vt(!1),en=Ut;function Rn(e,t){var n=e.type.contextTypes;if(!n)return Ut;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Fe(e){return e=e.childContextTypes,e!=null}function vs(){G(Pe),G(we)}function Za(e,t,n){if(we.current!==Ut)throw Error(S(168));K(we,t),K(Pe,n)}function $u(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(S(108,Fd(e)||"Unknown",l));return q({},n,r)}function js(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ut,en=we.current,K(we,e),K(Pe,Pe.current),!0}function Xa(e,t,n){var r=e.stateNode;if(!r)throw Error(S(169));n?(e=$u(e,t,en),r.__reactInternalMemoizedMergedChildContext=e,G(Pe),G(we),K(we,e)):G(Pe),K(Pe,n)}var ft=null,Us=!1,pl=!1;function Uu(e){ft===null?ft=[e]:ft.push(e)}function Ym(e){Us=!0,Uu(e)}function Ht(){if(!pl&&ft!==null){pl=!0;var e=0,t=V;try{var n=ft;for(V=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ft=null,Us=!1}catch(l){throw ft!==null&&(ft=ft.slice(e+1)),mu(Ri,Ht),l}finally{V=t,pl=!1}}return null}var gn=[],yn=0,Ns=null,ws=0,He=[],We=0,tn=null,pt=1,ht="";function Kt(e,t){gn[yn++]=ws,gn[yn++]=Ns,Ns=e,ws=t}function Bu(e,t,n){He[We++]=pt,He[We++]=ht,He[We++]=tn,tn=e;var r=pt;e=ht;var l=32-tt(r)-1;r&=~(1<<l),n+=1;var i=32-tt(t)+l;if(30<i){var a=l-l%5;i=(r&(1<<a)-1).toString(32),r>>=a,l-=a,pt=1<<32-tt(t)+l|n<<l|r,ht=i+e}else pt=1<<i|n<<l|r,ht=e}function Li(e){e.return!==null&&(Kt(e,1),Bu(e,1,0))}function $i(e){for(;e===Ns;)Ns=gn[--yn],gn[yn]=null,ws=gn[--yn],gn[yn]=null;for(;e===tn;)tn=He[--We],He[We]=null,ht=He[--We],He[We]=null,pt=He[--We],He[We]=null}var Oe=null,Ae=null,Y=!1,et=null;function Vu(e,t){var n=Ke(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oe=e,Ae=It(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oe=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=tn!==null?{id:pt,overflow:ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ke(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Oe=e,Ae=null,!0):!1;default:return!1}}function Zl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xl(e){if(Y){var t=Ae;if(t){var n=t;if(!qa(e,t)){if(Zl(e))throw Error(S(418));t=It(n.nextSibling);var r=Oe;t&&qa(e,t)?Vu(r,n):(e.flags=e.flags&-4097|2,Y=!1,Oe=e)}}else{if(Zl(e))throw Error(S(418));e.flags=e.flags&-4097|2,Y=!1,Oe=e}}}function Ja(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oe=e}function Wr(e){if(e!==Oe)return!1;if(!Y)return Ja(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Kl(e.type,e.memoizedProps)),t&&(t=Ae)){if(Zl(e))throw Hu(),Error(S(418));for(;t;)Vu(e,t),t=It(t.nextSibling)}if(Ja(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ae=It(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=Oe?It(e.stateNode.nextSibling):null;return!0}function Hu(){for(var e=Ae;e;)e=It(e.nextSibling)}function Pn(){Ae=Oe=null,Y=!1}function Ui(e){et===null?et=[e]:et.push(e)}var Zm=wt.ReactCurrentBatchConfig;function Kn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=l.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,e))}return e}function Kr(e,t){throw e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function eo(e){var t=e._init;return t(e._payload)}function Wu(e){function t(d,u){if(e){var f=d.deletions;f===null?(d.deletions=[u],d.flags|=16):f.push(u)}}function n(d,u){if(!e)return null;for(;u!==null;)t(d,u),u=u.sibling;return null}function r(d,u){for(d=new Map;u!==null;)u.key!==null?d.set(u.key,u):d.set(u.index,u),u=u.sibling;return d}function l(d,u){return d=Lt(d,u),d.index=0,d.sibling=null,d}function i(d,u,f){return d.index=f,e?(f=d.alternate,f!==null?(f=f.index,f<u?(d.flags|=2,u):f):(d.flags|=2,u)):(d.flags|=1048576,u)}function a(d){return e&&d.alternate===null&&(d.flags|=2),d}function o(d,u,f,x){return u===null||u.tag!==6?(u=Nl(f,d.mode,x),u.return=d,u):(u=l(u,f),u.return=d,u)}function c(d,u,f,x){var w=f.type;return w===dn?h(d,u,f.props.children,x,f.key):u!==null&&(u.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===kt&&eo(w)===u.type)?(x=l(u,f.props),x.ref=Kn(d,u,f),x.return=d,x):(x=us(f.type,f.key,f.props,null,d.mode,x),x.ref=Kn(d,u,f),x.return=d,x)}function m(d,u,f,x){return u===null||u.tag!==4||u.stateNode.containerInfo!==f.containerInfo||u.stateNode.implementation!==f.implementation?(u=wl(f,d.mode,x),u.return=d,u):(u=l(u,f.children||[]),u.return=d,u)}function h(d,u,f,x,w){return u===null||u.tag!==7?(u=Jt(f,d.mode,x,w),u.return=d,u):(u=l(u,f),u.return=d,u)}function p(d,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Nl(""+u,d.mode,f),u.return=d,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Ir:return f=us(u.type,u.key,u.props,null,d.mode,f),f.ref=Kn(d,null,u),f.return=d,f;case cn:return u=wl(u,d.mode,f),u.return=d,u;case kt:var x=u._init;return p(d,x(u._payload),f)}if(Zn(u)||Un(u))return u=Jt(u,d.mode,f,null),u.return=d,u;Kr(d,u)}return null}function g(d,u,f,x){var w=u!==null?u.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return w!==null?null:o(d,u,""+f,x);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ir:return f.key===w?c(d,u,f,x):null;case cn:return f.key===w?m(d,u,f,x):null;case kt:return w=f._init,g(d,u,w(f._payload),x)}if(Zn(f)||Un(f))return w!==null?null:h(d,u,f,x,null);Kr(d,f)}return null}function C(d,u,f,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return d=d.get(f)||null,o(u,d,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ir:return d=d.get(x.key===null?f:x.key)||null,c(u,d,x,w);case cn:return d=d.get(x.key===null?f:x.key)||null,m(u,d,x,w);case kt:var k=x._init;return C(d,u,f,k(x._payload),w)}if(Zn(x)||Un(x))return d=d.get(f)||null,h(u,d,x,w,null);Kr(u,x)}return null}function j(d,u,f,x){for(var w=null,k=null,R=u,P=u=0,B=null;R!==null&&P<f.length;P++){R.index>P?(B=R,R=null):B=R.sibling;var F=g(d,R,f[P],x);if(F===null){R===null&&(R=B);break}e&&R&&F.alternate===null&&t(d,R),u=i(F,u,P),k===null?w=F:k.sibling=F,k=F,R=B}if(P===f.length)return n(d,R),Y&&Kt(d,P),w;if(R===null){for(;P<f.length;P++)R=p(d,f[P],x),R!==null&&(u=i(R,u,P),k===null?w=R:k.sibling=R,k=R);return Y&&Kt(d,P),w}for(R=r(d,R);P<f.length;P++)B=C(R,d,P,f[P],x),B!==null&&(e&&B.alternate!==null&&R.delete(B.key===null?P:B.key),u=i(B,u,P),k===null?w=B:k.sibling=B,k=B);return e&&R.forEach(function(te){return t(d,te)}),Y&&Kt(d,P),w}function v(d,u,f,x){var w=Un(f);if(typeof w!="function")throw Error(S(150));if(f=w.call(f),f==null)throw Error(S(151));for(var k=w=null,R=u,P=u=0,B=null,F=f.next();R!==null&&!F.done;P++,F=f.next()){R.index>P?(B=R,R=null):B=R.sibling;var te=g(d,R,F.value,x);if(te===null){R===null&&(R=B);break}e&&R&&te.alternate===null&&t(d,R),u=i(te,u,P),k===null?w=te:k.sibling=te,k=te,R=B}if(F.done)return n(d,R),Y&&Kt(d,P),w;if(R===null){for(;!F.done;P++,F=f.next())F=p(d,F.value,x),F!==null&&(u=i(F,u,P),k===null?w=F:k.sibling=F,k=F);return Y&&Kt(d,P),w}for(R=r(d,R);!F.done;P++,F=f.next())F=C(R,d,P,F.value,x),F!==null&&(e&&F.alternate!==null&&R.delete(F.key===null?P:F.key),u=i(F,u,P),k===null?w=F:k.sibling=F,k=F);return e&&R.forEach(function(Ce){return t(d,Ce)}),Y&&Kt(d,P),w}function N(d,u,f,x){if(typeof f=="object"&&f!==null&&f.type===dn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Ir:e:{for(var w=f.key,k=u;k!==null;){if(k.key===w){if(w=f.type,w===dn){if(k.tag===7){n(d,k.sibling),u=l(k,f.props.children),u.return=d,d=u;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===kt&&eo(w)===k.type){n(d,k.sibling),u=l(k,f.props),u.ref=Kn(d,k,f),u.return=d,d=u;break e}n(d,k);break}else t(d,k);k=k.sibling}f.type===dn?(u=Jt(f.props.children,d.mode,x,f.key),u.return=d,d=u):(x=us(f.type,f.key,f.props,null,d.mode,x),x.ref=Kn(d,u,f),x.return=d,d=x)}return a(d);case cn:e:{for(k=f.key;u!==null;){if(u.key===k)if(u.tag===4&&u.stateNode.containerInfo===f.containerInfo&&u.stateNode.implementation===f.implementation){n(d,u.sibling),u=l(u,f.children||[]),u.return=d,d=u;break e}else{n(d,u);break}else t(d,u);u=u.sibling}u=wl(f,d.mode,x),u.return=d,d=u}return a(d);case kt:return k=f._init,N(d,u,k(f._payload),x)}if(Zn(f))return j(d,u,f,x);if(Un(f))return v(d,u,f,x);Kr(d,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,u!==null&&u.tag===6?(n(d,u.sibling),u=l(u,f),u.return=d,d=u):(n(d,u),u=Nl(f,d.mode,x),u.return=d,d=u),a(d)):n(d,u)}return N}var Fn=Wu(!0),Ku=Wu(!1),Cs=Vt(null),Ss=null,vn=null,Bi=null;function Vi(){Bi=vn=Ss=null}function Hi(e){var t=Cs.current;G(Cs),e._currentValue=t}function ql(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Dn(e,t){Ss=e,Bi=vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Re=!0),e.firstContext=null)}function Ge(e){var t=e._currentValue;if(Bi!==e)if(e={context:e,memoizedValue:t,next:null},vn===null){if(Ss===null)throw Error(S(308));vn=e,Ss.dependencies={lanes:0,firstContext:e}}else vn=vn.next=e;return t}var Yt=null;function Wi(e){Yt===null?Yt=[e]:Yt.push(e)}function Qu(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Wi(t)):(n.next=l.next,l.next=n),t.interleaved=n,jt(e,r)}function jt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Dt=!1;function Ki(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,$&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,jt(e,n)}return l=r.interleaved,l===null?(t.next=t,Wi(r)):(t.next=l.next,l.next=t),r.interleaved=t,jt(e,n)}function rs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pi(e,n)}}function to(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ks(e,t,n,r){var l=e.updateQueue;Dt=!1;var i=l.firstBaseUpdate,a=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,m=c.next;c.next=null,a===null?i=m:a.next=m,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=m:o.next=m,h.lastBaseUpdate=c))}if(i!==null){var p=l.baseState;a=0,h=m=c=null,o=i;do{var g=o.lane,C=o.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:C,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var j=e,v=o;switch(g=t,C=n,v.tag){case 1:if(j=v.payload,typeof j=="function"){p=j.call(C,p,g);break e}p=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=v.payload,g=typeof j=="function"?j.call(C,p,g):j,g==null)break e;p=q({},p,g);break e;case 2:Dt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[o]:g.push(o))}else C={eventTime:C,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(m=h=C,c=p):h=h.next=C,a|=g;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;g=o,o=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(h===null&&(c=p),l.baseState=c,l.firstBaseUpdate=m,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);rn|=a,e.lanes=a,e.memoizedState=p}}function no(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(S(191,l));l.call(r)}}}var Fr={},ot=Vt(Fr),jr=Vt(Fr),Nr=Vt(Fr);function Zt(e){if(e===Fr)throw Error(S(174));return e}function Qi(e,t){switch(K(Nr,t),K(jr,e),K(ot,Fr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fl(t,e)}G(ot),K(ot,t)}function Mn(){G(ot),G(jr),G(Nr)}function Yu(e){Zt(Nr.current);var t=Zt(ot.current),n=Fl(t,e.type);t!==n&&(K(jr,e),K(ot,n))}function Gi(e){jr.current===e&&(G(ot),G(jr))}var Z=Vt(0);function Ds(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hl=[];function Yi(){for(var e=0;e<hl.length;e++)hl[e]._workInProgressVersionPrimary=null;hl.length=0}var ss=wt.ReactCurrentDispatcher,xl=wt.ReactCurrentBatchConfig,nn=0,X=null,oe=null,ce=null,bs=!1,sr=!1,wr=0,Xm=0;function ge(){throw Error(S(321))}function Zi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rt(e[n],t[n]))return!1;return!0}function Xi(e,t,n,r,l,i){if(nn=i,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ss.current=e===null||e.memoizedState===null?tf:nf,e=n(r,l),sr){i=0;do{if(sr=!1,wr=0,25<=i)throw Error(S(301));i+=1,ce=oe=null,t.updateQueue=null,ss.current=rf,e=n(r,l)}while(sr)}if(ss.current=Ts,t=oe!==null&&oe.next!==null,nn=0,ce=oe=X=null,bs=!1,t)throw Error(S(300));return e}function qi(){var e=wr!==0;return wr=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?X.memoizedState=ce=e:ce=ce.next=e,ce}function Ye(){if(oe===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var t=ce===null?X.memoizedState:ce.next;if(t!==null)ce=t,oe=e;else{if(e===null)throw Error(S(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ce===null?X.memoizedState=ce=e:ce=ce.next=e}return ce}function Cr(e,t){return typeof t=="function"?t(e):t}function gl(e){var t=Ye(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var r=oe,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var a=l.next;l.next=i.next,i.next=a}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var o=a=null,c=null,m=i;do{var h=m.lane;if((nn&h)===h)c!==null&&(c=c.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:e(r,m.action);else{var p={lane:h,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};c===null?(o=c=p,a=r):c=c.next=p,X.lanes|=h,rn|=h}m=m.next}while(m!==null&&m!==i);c===null?a=r:c.next=o,rt(r,t.memoizedState)||(Re=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,X.lanes|=i,rn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yl(e){var t=Ye(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do i=e(i,a.action),a=a.next;while(a!==l);rt(i,t.memoizedState)||(Re=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Zu(){}function Xu(e,t){var n=X,r=Ye(),l=t(),i=!rt(r.memoizedState,l);if(i&&(r.memoizedState=l,Re=!0),r=r.queue,Ji(ec.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ce!==null&&ce.memoizedState.tag&1){if(n.flags|=2048,Sr(9,Ju.bind(null,n,r,l,t),void 0,null),me===null)throw Error(S(349));nn&30||qu(n,t,l)}return l}function qu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ju(e,t,n,r){t.value=n,t.getSnapshot=r,tc(t)&&nc(e)}function ec(e,t,n){return n(function(){tc(t)&&nc(e)})}function tc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rt(e,n)}catch{return!0}}function nc(e){var t=jt(e,1);t!==null&&nt(t,e,1,-1)}function ro(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:e},t.queue=e,e=e.dispatch=ef.bind(null,X,e),[t.memoizedState,e]}function Sr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function rc(){return Ye().memoizedState}function ls(e,t,n,r){var l=lt();X.flags|=e,l.memoizedState=Sr(1|t,n,void 0,r===void 0?null:r)}function Bs(e,t,n,r){var l=Ye();r=r===void 0?null:r;var i=void 0;if(oe!==null){var a=oe.memoizedState;if(i=a.destroy,r!==null&&Zi(r,a.deps)){l.memoizedState=Sr(t,n,i,r);return}}X.flags|=e,l.memoizedState=Sr(1|t,n,i,r)}function so(e,t){return ls(8390656,8,e,t)}function Ji(e,t){return Bs(2048,8,e,t)}function sc(e,t){return Bs(4,2,e,t)}function lc(e,t){return Bs(4,4,e,t)}function ic(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ac(e,t,n){return n=n!=null?n.concat([e]):null,Bs(4,4,ic.bind(null,t,e),n)}function ea(){}function oc(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function uc(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function cc(e,t,n){return nn&21?(rt(n,t)||(n=hu(),X.lanes|=n,rn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Re=!0),e.memoizedState=n)}function qm(e,t){var n=V;V=n!==0&&4>n?n:4,e(!0);var r=xl.transition;xl.transition={};try{e(!1),t()}finally{V=n,xl.transition=r}}function dc(){return Ye().memoizedState}function Jm(e,t,n){var r=Ot(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mc(e))fc(t,n);else if(n=Qu(e,t,n,r),n!==null){var l=De();nt(n,e,r,l),pc(n,t,r)}}function ef(e,t,n){var r=Ot(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mc(e))fc(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(l.hasEagerState=!0,l.eagerState=o,rt(o,a)){var c=t.interleaved;c===null?(l.next=l,Wi(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Qu(e,t,l,r),n!==null&&(l=De(),nt(n,e,r,l),pc(n,t,r))}}function mc(e){var t=e.alternate;return e===X||t!==null&&t===X}function fc(e,t){sr=bs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pi(e,n)}}var Ts={readContext:Ge,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},tf={readContext:Ge,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:Ge,useEffect:so,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ls(4194308,4,ic.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ls(4194308,4,e,t)},useInsertionEffect:function(e,t){return ls(4,2,e,t)},useMemo:function(e,t){var n=lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jm.bind(null,X,e),[r.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:ro,useDebugValue:ea,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=ro(!1),t=e[0];return e=qm.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=X,l=lt();if(Y){if(n===void 0)throw Error(S(407));n=n()}else{if(n=t(),me===null)throw Error(S(349));nn&30||qu(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,so(ec.bind(null,r,i,e),[e]),r.flags|=2048,Sr(9,Ju.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=lt(),t=me.identifierPrefix;if(Y){var n=ht,r=pt;n=(r&~(1<<32-tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=wr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Xm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nf={readContext:Ge,useCallback:oc,useContext:Ge,useEffect:Ji,useImperativeHandle:ac,useInsertionEffect:sc,useLayoutEffect:lc,useMemo:uc,useReducer:gl,useRef:rc,useState:function(){return gl(Cr)},useDebugValue:ea,useDeferredValue:function(e){var t=Ye();return cc(t,oe.memoizedState,e)},useTransition:function(){var e=gl(Cr)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:Zu,useSyncExternalStore:Xu,useId:dc,unstable_isNewReconciler:!1},rf={readContext:Ge,useCallback:oc,useContext:Ge,useEffect:Ji,useImperativeHandle:ac,useInsertionEffect:sc,useLayoutEffect:lc,useMemo:uc,useReducer:yl,useRef:rc,useState:function(){return yl(Cr)},useDebugValue:ea,useDeferredValue:function(e){var t=Ye();return oe===null?t.memoizedState=e:cc(t,oe.memoizedState,e)},useTransition:function(){var e=yl(Cr)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:Zu,useSyncExternalStore:Xu,useId:dc,unstable_isNewReconciler:!1};function qe(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Jl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vs={isMounted:function(e){return(e=e._reactInternals)?an(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=De(),l=Ot(e),i=xt(r,l);i.payload=t,n!=null&&(i.callback=n),t=zt(e,i,l),t!==null&&(nt(t,e,l,r),rs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=De(),l=Ot(e),i=xt(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=zt(e,i,l),t!==null&&(nt(t,e,l,r),rs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=De(),r=Ot(e),l=xt(n,r);l.tag=2,t!=null&&(l.callback=t),t=zt(e,l,r),t!==null&&(nt(t,e,r,n),rs(t,e,r))}};function lo(e,t,n,r,l,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!xr(n,r)||!xr(l,i):!0}function hc(e,t,n){var r=!1,l=Ut,i=t.contextType;return typeof i=="object"&&i!==null?i=Ge(i):(l=Fe(t)?en:we.current,r=t.contextTypes,i=(r=r!=null)?Rn(e,l):Ut),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function io(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vs.enqueueReplaceState(t,t.state,null)}function ei(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ki(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=Ge(i):(i=Fe(t)?en:we.current,l.context=Rn(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Jl(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Vs.enqueueReplaceState(l,l.state,null),ks(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function _n(e,t){try{var n="",r=t;do n+=Pd(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function vl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ti(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sf=typeof WeakMap=="function"?WeakMap:Map;function xc(e,t,n){n=xt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rs||(Rs=!0,di=r),ti(e,t)},n}function gc(e,t,n){n=xt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){ti(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ti(e,t),typeof r!="function"&&(At===null?At=new Set([this]):At.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function ao(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sf;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=vf.bind(null,e,t,n),t.then(e,e))}function oo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uo(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xt(-1,1),t.tag=2,zt(n,t,1))),n.lanes|=1),e)}var lf=wt.ReactCurrentOwner,Re=!1;function ke(e,t,n,r){t.child=e===null?Ku(t,null,n,r):Fn(t,e.child,n,r)}function co(e,t,n,r,l){n=n.render;var i=t.ref;return Dn(t,l),r=Xi(e,t,n,r,i,l),n=qi(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Nt(e,t,l)):(Y&&n&&Li(t),t.flags|=1,ke(e,t,r,l),t.child)}function mo(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!oa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,yc(e,t,i,r,l)):(e=us(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:xr,n(a,r)&&e.ref===t.ref)return Nt(e,t,l)}return t.flags|=1,e=Lt(i,r),e.ref=t.ref,e.return=t,t.child=e}function yc(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(xr(i,r)&&e.ref===t.ref)if(Re=!1,t.pendingProps=r=i,(e.lanes&l)!==0)e.flags&131072&&(Re=!0);else return t.lanes=e.lanes,Nt(e,t,l)}return ni(e,t,n,r,l)}function vc(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Nn,ze),ze|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(Nn,ze),ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(Nn,ze),ze|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,K(Nn,ze),ze|=r;return ke(e,t,l,n),t.child}function jc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ni(e,t,n,r,l){var i=Fe(n)?en:we.current;return i=Rn(t,i),Dn(t,l),n=Xi(e,t,n,r,i,l),r=qi(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Nt(e,t,l)):(Y&&r&&Li(t),t.flags|=1,ke(e,t,n,l),t.child)}function fo(e,t,n,r,l){if(Fe(n)){var i=!0;js(t)}else i=!1;if(Dn(t,l),t.stateNode===null)is(e,t),hc(t,n,r),ei(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,m=n.contextType;typeof m=="object"&&m!==null?m=Ge(m):(m=Fe(n)?en:we.current,m=Rn(t,m));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==m)&&io(t,a,r,m),Dt=!1;var g=t.memoizedState;a.state=g,ks(t,r,a,l),c=t.memoizedState,o!==r||g!==c||Pe.current||Dt?(typeof h=="function"&&(Jl(t,n,h,r),c=t.memoizedState),(o=Dt||lo(t,n,o,r,g,c,m))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=m,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Gu(e,t),o=t.memoizedProps,m=t.type===t.elementType?o:qe(t.type,o),a.props=m,p=t.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ge(c):(c=Fe(n)?en:we.current,c=Rn(t,c));var C=n.getDerivedStateFromProps;(h=typeof C=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||g!==c)&&io(t,a,r,c),Dt=!1,g=t.memoizedState,a.state=g,ks(t,r,a,l);var j=t.memoizedState;o!==p||g!==j||Pe.current||Dt?(typeof C=="function"&&(Jl(t,n,C,r),j=t.memoizedState),(m=Dt||lo(t,n,m,r,g,j,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,j,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,j,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),a.props=r,a.state=j,a.context=c,r=m):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return ri(e,t,n,r,i,l)}function ri(e,t,n,r,l,i){jc(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&Xa(t,n,!1),Nt(e,t,i);r=t.stateNode,lf.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Fn(t,e.child,null,i),t.child=Fn(t,null,o,i)):ke(e,t,o,i),t.memoizedState=r.state,l&&Xa(t,n,!0),t.child}function Nc(e){var t=e.stateNode;t.pendingContext?Za(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Za(e,t.context,!1),Qi(e,t.containerInfo)}function po(e,t,n,r,l){return Pn(),Ui(l),t.flags|=256,ke(e,t,n,r),t.child}var si={dehydrated:null,treeContext:null,retryLane:0};function li(e){return{baseLanes:e,cachePool:null,transitions:null}}function wc(e,t,n){var r=t.pendingProps,l=Z.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),K(Z,l&1),e===null)return Xl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ks(a,r,0,null),e=Jt(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=li(n),t.memoizedState=si,e):ta(t,a));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return af(e,t,a,r,o,l,n);if(i){i=r.fallback,a=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Lt(l,c),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?i=Lt(o,i):(i=Jt(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?li(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=si,r}return i=e.child,e=i.sibling,r=Lt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ta(e,t){return t=Ks({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qr(e,t,n,r){return r!==null&&Ui(r),Fn(t,e.child,null,n),e=ta(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function af(e,t,n,r,l,i,a){if(n)return t.flags&256?(t.flags&=-257,r=vl(Error(S(422))),Qr(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=Ks({mode:"visible",children:r.children},l,0,null),i=Jt(i,l,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Fn(t,e.child,null,a),t.child.memoizedState=li(a),t.memoizedState=si,i);if(!(t.mode&1))return Qr(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(S(419)),r=vl(i,r,void 0),Qr(e,t,a,r)}if(o=(a&e.childLanes)!==0,Re||o){if(r=me,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,jt(e,l),nt(r,e,l,-1))}return aa(),r=vl(Error(S(421))),Qr(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=jf.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,Ae=It(l.nextSibling),Oe=t,Y=!0,et=null,e!==null&&(He[We++]=pt,He[We++]=ht,He[We++]=tn,pt=e.id,ht=e.overflow,tn=t),t=ta(t,r.children),t.flags|=4096,t)}function ho(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ql(e.return,t,n)}function jl(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function Cc(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(ke(e,t,r.children,n),r=Z.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ho(e,n,t);else if(e.tag===19)ho(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(K(Z,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ds(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),jl(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ds(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}jl(t,!0,n,null,i);break;case"together":jl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function is(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),rn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,n=Lt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Lt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function of(e,t,n){switch(t.tag){case 3:Nc(t),Pn();break;case 5:Yu(t);break;case 1:Fe(t.type)&&js(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;K(Cs,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(K(Z,Z.current&1),t.flags|=128,null):n&t.child.childLanes?wc(e,t,n):(K(Z,Z.current&1),e=Nt(e,t,n),e!==null?e.sibling:null);K(Z,Z.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Cc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),K(Z,Z.current),r)break;return null;case 22:case 23:return t.lanes=0,vc(e,t,n)}return Nt(e,t,n)}var Sc,ii,kc,Dc;Sc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ii=function(){};kc=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Zt(ot.current);var i=null;switch(n){case"input":l=Tl(e,l),r=Tl(e,r),i=[];break;case"select":l=q({},l,{value:void 0}),r=q({},r,{value:void 0}),i=[];break;case"textarea":l=Pl(e,l),r=Pl(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ys)}Ml(n,r);var a;n=null;for(m in l)if(!r.hasOwnProperty(m)&&l.hasOwnProperty(m)&&l[m]!=null)if(m==="style"){var o=l[m];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(ur.hasOwnProperty(m)?i||(i=[]):(i=i||[]).push(m,null));for(m in r){var c=r[m];if(o=l!=null?l[m]:void 0,r.hasOwnProperty(m)&&c!==o&&(c!=null||o!=null))if(m==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(m,n)),n=c;else m==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(m,c)):m==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(m,""+c):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(ur.hasOwnProperty(m)?(c!=null&&m==="onScroll"&&Q("scroll",e),i||o===c||(i=[])):(i=i||[]).push(m,c))}n&&(i=i||[]).push("style",n);var m=i;(t.updateQueue=m)&&(t.flags|=4)}};Dc=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qn(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uf(e,t,n){var r=t.pendingProps;switch($i(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(t),null;case 1:return Fe(t.type)&&vs(),ye(t),null;case 3:return r=t.stateNode,Mn(),G(Pe),G(we),Yi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Wr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,et!==null&&(pi(et),et=null))),ii(e,t),ye(t),null;case 5:Gi(t);var l=Zt(Nr.current);if(n=t.type,e!==null&&t.stateNode!=null)kc(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(S(166));return ye(t),null}if(e=Zt(ot.current),Wr(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[it]=t,r[vr]=i,e=(t.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(l=0;l<qn.length;l++)Q(qn[l],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":Ca(r,i),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Q("invalid",r);break;case"textarea":ka(r,i),Q("invalid",r)}Ml(n,i),l=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Hr(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Hr(r.textContent,o,e),l=["children",""+o]):ur.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Q("scroll",r)}switch(n){case"input":zr(r),Sa(r,i,!0);break;case"textarea":zr(r),Da(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ys)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[it]=t,e[vr]=r,Sc(e,t,!1,!1),t.stateNode=e;e:{switch(a=_l(n,r),n){case"dialog":Q("cancel",e),Q("close",e),l=r;break;case"iframe":case"object":case"embed":Q("load",e),l=r;break;case"video":case"audio":for(l=0;l<qn.length;l++)Q(qn[l],e);l=r;break;case"source":Q("error",e),l=r;break;case"img":case"image":case"link":Q("error",e),Q("load",e),l=r;break;case"details":Q("toggle",e),l=r;break;case"input":Ca(e,r),l=Tl(e,r),Q("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=q({},r,{value:void 0}),Q("invalid",e);break;case"textarea":ka(e,r),l=Pl(e,r),Q("invalid",e);break;default:l=r}Ml(n,l),o=l;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?ru(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&cr(e,c):typeof c=="number"&&cr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ur.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Q("scroll",e):c!=null&&ki(e,i,c,a))}switch(n){case"input":zr(e),Sa(e,r,!1);break;case"textarea":zr(e),Da(e);break;case"option":r.value!=null&&e.setAttribute("value",""+$t(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?wn(e,!!r.multiple,i,!1):r.defaultValue!=null&&wn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ys)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ye(t),null;case 6:if(e&&t.stateNode!=null)Dc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(S(166));if(n=Zt(Nr.current),Zt(ot.current),Wr(t)){if(r=t.stateNode,n=t.memoizedProps,r[it]=t,(i=r.nodeValue!==n)&&(e=Oe,e!==null))switch(e.tag){case 3:Hr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hr(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[it]=t,t.stateNode=r}return ye(t),null;case 13:if(G(Z),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Ae!==null&&t.mode&1&&!(t.flags&128))Hu(),Pn(),t.flags|=98560,i=!1;else if(i=Wr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(S(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[it]=t}else Pn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ye(t),i=!1}else et!==null&&(pi(et),et=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Z.current&1?ue===0&&(ue=3):aa())),t.updateQueue!==null&&(t.flags|=4),ye(t),null);case 4:return Mn(),ii(e,t),e===null&&gr(t.stateNode.containerInfo),ye(t),null;case 10:return Hi(t.type._context),ye(t),null;case 17:return Fe(t.type)&&vs(),ye(t),null;case 19:if(G(Z),i=t.memoizedState,i===null)return ye(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Qn(i,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ds(e),a!==null){for(t.flags|=128,Qn(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return K(Z,Z.current&1|2),t.child}e=e.sibling}i.tail!==null&&le()>In&&(t.flags|=128,r=!0,Qn(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ds(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Y)return ye(t),null}else 2*le()-i.renderingStartTime>In&&n!==1073741824&&(t.flags|=128,r=!0,Qn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,n=Z.current,K(Z,r?n&1|2:n&1),t):(ye(t),null);case 22:case 23:return ia(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ze&1073741824&&(ye(t),t.subtreeFlags&6&&(t.flags|=8192)):ye(t),null;case 24:return null;case 25:return null}throw Error(S(156,t.tag))}function cf(e,t){switch($i(t),t.tag){case 1:return Fe(t.type)&&vs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mn(),G(Pe),G(we),Yi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gi(t),null;case 13:if(G(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));Pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Z),null;case 4:return Mn(),null;case 10:return Hi(t.type._context),null;case 22:case 23:return ia(),null;case 24:return null;default:return null}}var Gr=!1,ve=!1,df=typeof WeakSet=="function"?WeakSet:Set,b=null;function jn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ee(e,t,r)}else n.current=null}function ai(e,t,n){try{n()}catch(r){ee(e,t,r)}}var xo=!1;function mf(e,t){if(Hl=hs,e=Pu(),Oi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,m=0,h=0,p=e,g=null;t:for(;;){for(var C;p!==n||l!==0&&p.nodeType!==3||(o=a+l),p!==i||r!==0&&p.nodeType!==3||(c=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(C=p.firstChild)!==null;)g=p,p=C;for(;;){if(p===e)break t;if(g===n&&++m===l&&(o=a),g===i&&++h===r&&(c=a),(C=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=C}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wl={focusedElem:e,selectionRange:n},hs=!1,b=t;b!==null;)if(t=b,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,b=e;else for(;b!==null;){t=b;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var v=j.memoizedProps,N=j.memoizedState,d=t.stateNode,u=d.getSnapshotBeforeUpdate(t.elementType===t.type?v:qe(t.type,v),N);d.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(x){ee(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,b=e;break}b=t.return}return j=xo,xo=!1,j}function lr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&ai(t,n,i)}l=l.next}while(l!==r)}}function Hs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bc(e){var t=e.alternate;t!==null&&(e.alternate=null,bc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[it],delete t[vr],delete t[Gl],delete t[Qm],delete t[Gm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tc(e){return e.tag===5||e.tag===3||e.tag===4}function go(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ui(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ys));else if(r!==4&&(e=e.child,e!==null))for(ui(e,t,n),e=e.sibling;e!==null;)ui(e,t,n),e=e.sibling}function ci(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ci(e,t,n),e=e.sibling;e!==null;)ci(e,t,n),e=e.sibling}var pe=null,Je=!1;function Ct(e,t,n){for(n=n.child;n!==null;)Ec(e,t,n),n=n.sibling}function Ec(e,t,n){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(zs,n)}catch{}switch(n.tag){case 5:ve||jn(n,t);case 6:var r=pe,l=Je;pe=null,Ct(e,t,n),pe=r,Je=l,pe!==null&&(Je?(e=pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pe.removeChild(n.stateNode));break;case 18:pe!==null&&(Je?(e=pe,n=n.stateNode,e.nodeType===8?fl(e.parentNode,n):e.nodeType===1&&fl(e,n),pr(e)):fl(pe,n.stateNode));break;case 4:r=pe,l=Je,pe=n.stateNode.containerInfo,Je=!0,Ct(e,t,n),pe=r,Je=l;break;case 0:case 11:case 14:case 15:if(!ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ai(n,t,a),l=l.next}while(l!==r)}Ct(e,t,n);break;case 1:if(!ve&&(jn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ee(n,t,o)}Ct(e,t,n);break;case 21:Ct(e,t,n);break;case 22:n.mode&1?(ve=(r=ve)||n.memoizedState!==null,Ct(e,t,n),ve=r):Ct(e,t,n);break;default:Ct(e,t,n)}}function yo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new df),t.forEach(function(r){var l=Nf.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Xe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:pe=o.stateNode,Je=!1;break e;case 3:pe=o.stateNode.containerInfo,Je=!0;break e;case 4:pe=o.stateNode.containerInfo,Je=!0;break e}o=o.return}if(pe===null)throw Error(S(160));Ec(i,a,l),pe=null,Je=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(m){ee(l,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rc(t,e),t=t.sibling}function Rc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xe(t,e),st(e),r&4){try{lr(3,e,e.return),Hs(3,e)}catch(v){ee(e,e.return,v)}try{lr(5,e,e.return)}catch(v){ee(e,e.return,v)}}break;case 1:Xe(t,e),st(e),r&512&&n!==null&&jn(n,n.return);break;case 5:if(Xe(t,e),st(e),r&512&&n!==null&&jn(n,n.return),e.flags&32){var l=e.stateNode;try{cr(l,"")}catch(v){ee(e,e.return,v)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&qo(l,i),_l(o,a);var m=_l(o,i);for(a=0;a<c.length;a+=2){var h=c[a],p=c[a+1];h==="style"?ru(l,p):h==="dangerouslySetInnerHTML"?tu(l,p):h==="children"?cr(l,p):ki(l,h,p,m)}switch(o){case"input":El(l,i);break;case"textarea":Jo(l,i);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var C=i.value;C!=null?wn(l,!!i.multiple,C,!1):g!==!!i.multiple&&(i.defaultValue!=null?wn(l,!!i.multiple,i.defaultValue,!0):wn(l,!!i.multiple,i.multiple?[]:"",!1))}l[vr]=i}catch(v){ee(e,e.return,v)}}break;case 6:if(Xe(t,e),st(e),r&4){if(e.stateNode===null)throw Error(S(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(v){ee(e,e.return,v)}}break;case 3:if(Xe(t,e),st(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pr(t.containerInfo)}catch(v){ee(e,e.return,v)}break;case 4:Xe(t,e),st(e);break;case 13:Xe(t,e),st(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(sa=le())),r&4&&yo(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(ve=(m=ve)||h,Xe(t,e),ve=m):Xe(t,e),st(e),r&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!h&&e.mode&1)for(b=e,h=e.child;h!==null;){for(p=b=h;b!==null;){switch(g=b,C=g.child,g.tag){case 0:case 11:case 14:case 15:lr(4,g,g.return);break;case 1:jn(g,g.return);var j=g.stateNode;if(typeof j.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(v){ee(r,n,v)}}break;case 5:jn(g,g.return);break;case 22:if(g.memoizedState!==null){jo(p);continue}}C!==null?(C.return=g,b=C):jo(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{l=p.stateNode,m?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=nu("display",a))}catch(v){ee(e,e.return,v)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=m?"":p.memoizedProps}catch(v){ee(e,e.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Xe(t,e),st(e),r&4&&yo(e);break;case 21:break;default:Xe(t,e),st(e)}}function st(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Tc(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(cr(l,""),r.flags&=-33);var i=go(e);ci(e,i,l);break;case 3:case 4:var a=r.stateNode.containerInfo,o=go(e);ui(e,o,a);break;default:throw Error(S(161))}}catch(c){ee(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ff(e,t,n){b=e,Pc(e)}function Pc(e,t,n){for(var r=(e.mode&1)!==0;b!==null;){var l=b,i=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||Gr;if(!a){var o=l.alternate,c=o!==null&&o.memoizedState!==null||ve;o=Gr;var m=ve;if(Gr=a,(ve=c)&&!m)for(b=l;b!==null;)a=b,c=a.child,a.tag===22&&a.memoizedState!==null?No(l):c!==null?(c.return=a,b=c):No(l);for(;i!==null;)b=i,Pc(i),i=i.sibling;b=l,Gr=o,ve=m}vo(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,b=i):vo(e)}}function vo(e){for(;b!==null;){var t=b;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||Hs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ve)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:qe(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&no(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}no(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var h=m.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&pr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}ve||t.flags&512&&oi(t)}catch(g){ee(t,t.return,g)}}if(t===e){b=null;break}if(n=t.sibling,n!==null){n.return=t.return,b=n;break}b=t.return}}function jo(e){for(;b!==null;){var t=b;if(t===e){b=null;break}var n=t.sibling;if(n!==null){n.return=t.return,b=n;break}b=t.return}}function No(e){for(;b!==null;){var t=b;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hs(4,t)}catch(c){ee(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){ee(t,l,c)}}var i=t.return;try{oi(t)}catch(c){ee(t,i,c)}break;case 5:var a=t.return;try{oi(t)}catch(c){ee(t,a,c)}}}catch(c){ee(t,t.return,c)}if(t===e){b=null;break}var o=t.sibling;if(o!==null){o.return=t.return,b=o;break}b=t.return}}var pf=Math.ceil,Es=wt.ReactCurrentDispatcher,na=wt.ReactCurrentOwner,Qe=wt.ReactCurrentBatchConfig,$=0,me=null,ie=null,he=0,ze=0,Nn=Vt(0),ue=0,kr=null,rn=0,Ws=0,ra=0,ir=null,Ee=null,sa=0,In=1/0,mt=null,Rs=!1,di=null,At=null,Yr=!1,Rt=null,Ps=0,ar=0,mi=null,as=-1,os=0;function De(){return $&6?le():as!==-1?as:as=le()}function Ot(e){return e.mode&1?$&2&&he!==0?he&-he:Zm.transition!==null?(os===0&&(os=hu()),os):(e=V,e!==0||(e=window.event,e=e===void 0?16:wu(e.type)),e):1}function nt(e,t,n,r){if(50<ar)throw ar=0,mi=null,Error(S(185));Er(e,n,r),(!($&2)||e!==me)&&(e===me&&(!($&2)&&(Ws|=n),ue===4&&Tt(e,he)),Me(e,r),n===1&&$===0&&!(t.mode&1)&&(In=le()+500,Us&&Ht()))}function Me(e,t){var n=e.callbackNode;Zd(e,t);var r=ps(e,e===me?he:0);if(r===0)n!==null&&Ea(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ea(n),t===1)e.tag===0?Ym(wo.bind(null,e)):Uu(wo.bind(null,e)),Wm(function(){!($&6)&&Ht()}),n=null;else{switch(xu(r)){case 1:n=Ri;break;case 4:n=fu;break;case 16:n=fs;break;case 536870912:n=pu;break;default:n=fs}n=Lc(n,Fc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fc(e,t){if(as=-1,os=0,$&6)throw Error(S(327));var n=e.callbackNode;if(bn()&&e.callbackNode!==n)return null;var r=ps(e,e===me?he:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fs(e,r);else{t=r;var l=$;$|=2;var i=_c();(me!==e||he!==t)&&(mt=null,In=le()+500,qt(e,t));do try{gf();break}catch(o){Mc(e,o)}while(!0);Vi(),Es.current=i,$=l,ie!==null?t=0:(me=null,he=0,t=ue)}if(t!==0){if(t===2&&(l=Ll(e),l!==0&&(r=l,t=fi(e,l))),t===1)throw n=kr,qt(e,0),Tt(e,r),Me(e,le()),n;if(t===6)Tt(e,r);else{if(l=e.current.alternate,!(r&30)&&!hf(l)&&(t=Fs(e,r),t===2&&(i=Ll(e),i!==0&&(r=i,t=fi(e,i))),t===1))throw n=kr,qt(e,0),Tt(e,r),Me(e,le()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(S(345));case 2:Qt(e,Ee,mt);break;case 3:if(Tt(e,r),(r&130023424)===r&&(t=sa+500-le(),10<t)){if(ps(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){De(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ql(Qt.bind(null,e,Ee,mt),t);break}Qt(e,Ee,mt);break;case 4:if(Tt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-tt(r);i=1<<a,a=t[a],a>l&&(l=a),r&=~i}if(r=l,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pf(r/1960))-r,10<r){e.timeoutHandle=Ql(Qt.bind(null,e,Ee,mt),r);break}Qt(e,Ee,mt);break;case 5:Qt(e,Ee,mt);break;default:throw Error(S(329))}}}return Me(e,le()),e.callbackNode===n?Fc.bind(null,e):null}function fi(e,t){var n=ir;return e.current.memoizedState.isDehydrated&&(qt(e,t).flags|=256),e=Fs(e,t),e!==2&&(t=Ee,Ee=n,t!==null&&pi(t)),e}function pi(e){Ee===null?Ee=e:Ee.push.apply(Ee,e)}function hf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!rt(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tt(e,t){for(t&=~ra,t&=~Ws,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tt(t),r=1<<n;e[n]=-1,t&=~r}}function wo(e){if($&6)throw Error(S(327));bn();var t=ps(e,0);if(!(t&1))return Me(e,le()),null;var n=Fs(e,t);if(e.tag!==0&&n===2){var r=Ll(e);r!==0&&(t=r,n=fi(e,r))}if(n===1)throw n=kr,qt(e,0),Tt(e,t),Me(e,le()),n;if(n===6)throw Error(S(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qt(e,Ee,mt),Me(e,le()),null}function la(e,t){var n=$;$|=1;try{return e(t)}finally{$=n,$===0&&(In=le()+500,Us&&Ht())}}function sn(e){Rt!==null&&Rt.tag===0&&!($&6)&&bn();var t=$;$|=1;var n=Qe.transition,r=V;try{if(Qe.transition=null,V=1,e)return e()}finally{V=r,Qe.transition=n,$=t,!($&6)&&Ht()}}function ia(){ze=Nn.current,G(Nn)}function qt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Hm(n)),ie!==null)for(n=ie.return;n!==null;){var r=n;switch($i(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vs();break;case 3:Mn(),G(Pe),G(we),Yi();break;case 5:Gi(r);break;case 4:Mn();break;case 13:G(Z);break;case 19:G(Z);break;case 10:Hi(r.type._context);break;case 22:case 23:ia()}n=n.return}if(me=e,ie=e=Lt(e.current,null),he=ze=t,ue=0,kr=null,ra=Ws=rn=0,Ee=ir=null,Yt!==null){for(t=0;t<Yt.length;t++)if(n=Yt[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=l,r.next=a}n.pending=r}Yt=null}return e}function Mc(e,t){do{var n=ie;try{if(Vi(),ss.current=Ts,bs){for(var r=X.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}bs=!1}if(nn=0,ce=oe=X=null,sr=!1,wr=0,na.current=null,n===null||n.return===null){ue=1,kr=t,ie=null;break}e:{var i=e,a=n.return,o=n,c=t;if(t=he,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var m=c,h=o,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var C=oo(a);if(C!==null){C.flags&=-257,uo(C,a,o,i,t),C.mode&1&&ao(i,m,t),t=C,c=m;var j=t.updateQueue;if(j===null){var v=new Set;v.add(c),t.updateQueue=v}else j.add(c);break e}else{if(!(t&1)){ao(i,m,t),aa();break e}c=Error(S(426))}}else if(Y&&o.mode&1){var N=oo(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),uo(N,a,o,i,t),Ui(_n(c,o));break e}}i=c=_n(c,o),ue!==4&&(ue=2),ir===null?ir=[i]:ir.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var d=xc(i,c,t);to(i,d);break e;case 1:o=c;var u=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof u.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(At===null||!At.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=gc(i,o,t);to(i,x);break e}}i=i.return}while(i!==null)}zc(n)}catch(w){t=w,ie===n&&n!==null&&(ie=n=n.return);continue}break}while(!0)}function _c(){var e=Es.current;return Es.current=Ts,e===null?Ts:e}function aa(){(ue===0||ue===3||ue===2)&&(ue=4),me===null||!(rn&268435455)&&!(Ws&268435455)||Tt(me,he)}function Fs(e,t){var n=$;$|=2;var r=_c();(me!==e||he!==t)&&(mt=null,qt(e,t));do try{xf();break}catch(l){Mc(e,l)}while(!0);if(Vi(),$=n,Es.current=r,ie!==null)throw Error(S(261));return me=null,he=0,ue}function xf(){for(;ie!==null;)Ic(ie)}function gf(){for(;ie!==null&&!Ud();)Ic(ie)}function Ic(e){var t=Oc(e.alternate,e,ze);e.memoizedProps=e.pendingProps,t===null?zc(e):ie=t,na.current=null}function zc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cf(n,t),n!==null){n.flags&=32767,ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,ie=null;return}}else if(n=uf(n,t,ze),n!==null){ie=n;return}if(t=t.sibling,t!==null){ie=t;return}ie=t=e}while(t!==null);ue===0&&(ue=5)}function Qt(e,t,n){var r=V,l=Qe.transition;try{Qe.transition=null,V=1,yf(e,t,n,r)}finally{Qe.transition=l,V=r}return null}function yf(e,t,n,r){do bn();while(Rt!==null);if($&6)throw Error(S(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(S(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Xd(e,i),e===me&&(ie=me=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yr||(Yr=!0,Lc(fs,function(){return bn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qe.transition,Qe.transition=null;var a=V;V=1;var o=$;$|=4,na.current=null,mf(e,n),Rc(n,e),Am(Wl),hs=!!Hl,Wl=Hl=null,e.current=n,ff(n),Bd(),$=o,V=a,Qe.transition=i}else e.current=n;if(Yr&&(Yr=!1,Rt=e,Ps=l),i=e.pendingLanes,i===0&&(At=null),Wd(n.stateNode),Me(e,le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Rs)throw Rs=!1,e=di,di=null,e;return Ps&1&&e.tag!==0&&bn(),i=e.pendingLanes,i&1?e===mi?ar++:(ar=0,mi=e):ar=0,Ht(),null}function bn(){if(Rt!==null){var e=xu(Ps),t=Qe.transition,n=V;try{if(Qe.transition=null,V=16>e?16:e,Rt===null)var r=!1;else{if(e=Rt,Rt=null,Ps=0,$&6)throw Error(S(331));var l=$;for($|=4,b=e.current;b!==null;){var i=b,a=i.child;if(b.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var m=o[c];for(b=m;b!==null;){var h=b;switch(h.tag){case 0:case 11:case 15:lr(8,h,i)}var p=h.child;if(p!==null)p.return=h,b=p;else for(;b!==null;){h=b;var g=h.sibling,C=h.return;if(bc(h),h===m){b=null;break}if(g!==null){g.return=C,b=g;break}b=C}}}var j=i.alternate;if(j!==null){var v=j.child;if(v!==null){j.child=null;do{var N=v.sibling;v.sibling=null,v=N}while(v!==null)}}b=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,b=a;else e:for(;b!==null;){if(i=b,i.flags&2048)switch(i.tag){case 0:case 11:case 15:lr(9,i,i.return)}var d=i.sibling;if(d!==null){d.return=i.return,b=d;break e}b=i.return}}var u=e.current;for(b=u;b!==null;){a=b;var f=a.child;if(a.subtreeFlags&2064&&f!==null)f.return=a,b=f;else e:for(a=u;b!==null;){if(o=b,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Hs(9,o)}}catch(w){ee(o,o.return,w)}if(o===a){b=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,b=x;break e}b=o.return}}if($=l,Ht(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(zs,e)}catch{}r=!0}return r}finally{V=n,Qe.transition=t}}return!1}function Co(e,t,n){t=_n(n,t),t=xc(e,t,1),e=zt(e,t,1),t=De(),e!==null&&(Er(e,1,t),Me(e,t))}function ee(e,t,n){if(e.tag===3)Co(e,e,n);else for(;t!==null;){if(t.tag===3){Co(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(At===null||!At.has(r))){e=_n(n,e),e=gc(t,e,1),t=zt(t,e,1),e=De(),t!==null&&(Er(t,1,e),Me(t,e));break}}t=t.return}}function vf(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&n,me===e&&(he&n)===n&&(ue===4||ue===3&&(he&130023424)===he&&500>le()-sa?qt(e,0):ra|=n),Me(e,t)}function Ac(e,t){t===0&&(e.mode&1?(t=Lr,Lr<<=1,!(Lr&130023424)&&(Lr=4194304)):t=1);var n=De();e=jt(e,t),e!==null&&(Er(e,t,n),Me(e,n))}function jf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ac(e,n)}function Nf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(t),Ac(e,n)}var Oc;Oc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pe.current)Re=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Re=!1,of(e,t,n);Re=!!(e.flags&131072)}else Re=!1,Y&&t.flags&1048576&&Bu(t,ws,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;is(e,t),e=t.pendingProps;var l=Rn(t,we.current);Dn(t,n),l=Xi(null,t,r,e,l,n);var i=qi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(r)?(i=!0,js(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ki(t),l.updater=Vs,t.stateNode=l,l._reactInternals=t,ei(t,r,e,n),t=ri(null,t,r,!0,i,n)):(t.tag=0,Y&&i&&Li(t),ke(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(is(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Cf(r),e=qe(r,e),l){case 0:t=ni(null,t,r,e,n);break e;case 1:t=fo(null,t,r,e,n);break e;case 11:t=co(null,t,r,e,n);break e;case 14:t=mo(null,t,r,qe(r.type,e),n);break e}throw Error(S(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:qe(r,l),ni(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:qe(r,l),fo(e,t,r,l,n);case 3:e:{if(Nc(t),e===null)throw Error(S(387));r=t.pendingProps,i=t.memoizedState,l=i.element,Gu(e,t),ks(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=_n(Error(S(423)),t),t=po(e,t,r,n,l);break e}else if(r!==l){l=_n(Error(S(424)),t),t=po(e,t,r,n,l);break e}else for(Ae=It(t.stateNode.containerInfo.firstChild),Oe=t,Y=!0,et=null,n=Ku(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pn(),r===l){t=Nt(e,t,n);break e}ke(e,t,r,n)}t=t.child}return t;case 5:return Yu(t),e===null&&Xl(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,a=l.children,Kl(r,l)?a=null:i!==null&&Kl(r,i)&&(t.flags|=32),jc(e,t),ke(e,t,a,n),t.child;case 6:return e===null&&Xl(t),null;case 13:return wc(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fn(t,null,r,n):ke(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:qe(r,l),co(e,t,r,l,n);case 7:return ke(e,t,t.pendingProps,n),t.child;case 8:return ke(e,t,t.pendingProps.children,n),t.child;case 12:return ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,a=l.value,K(Cs,r._currentValue),r._currentValue=a,i!==null)if(rt(i.value,a)){if(i.children===l.children&&!Pe.current){t=Nt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=xt(-1,n&-n),c.tag=2;var m=i.updateQueue;if(m!==null){m=m.shared;var h=m.pending;h===null?c.next=c:(c.next=h.next,h.next=c),m.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ql(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(S(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),ql(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ke(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Dn(t,n),l=Ge(l),r=r(l),t.flags|=1,ke(e,t,r,n),t.child;case 14:return r=t.type,l=qe(r,t.pendingProps),l=qe(r.type,l),mo(e,t,r,l,n);case 15:return yc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:qe(r,l),is(e,t),t.tag=1,Fe(r)?(e=!0,js(t)):e=!1,Dn(t,n),hc(t,r,l),ei(t,r,l,n),ri(null,t,r,!0,e,n);case 19:return Cc(e,t,n);case 22:return vc(e,t,n)}throw Error(S(156,t.tag))};function Lc(e,t){return mu(e,t)}function wf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,n,r){return new wf(e,t,n,r)}function oa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cf(e){if(typeof e=="function")return oa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bi)return 11;if(e===Ti)return 14}return 2}function Lt(e,t){var n=e.alternate;return n===null?(n=Ke(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function us(e,t,n,r,l,i){var a=2;if(r=e,typeof e=="function")oa(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case dn:return Jt(n.children,l,i,t);case Di:a=8,l|=8;break;case Sl:return e=Ke(12,n,t,l|2),e.elementType=Sl,e.lanes=i,e;case kl:return e=Ke(13,n,t,l),e.elementType=kl,e.lanes=i,e;case Dl:return e=Ke(19,n,t,l),e.elementType=Dl,e.lanes=i,e;case Yo:return Ks(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qo:a=10;break e;case Go:a=9;break e;case bi:a=11;break e;case Ti:a=14;break e;case kt:a=16,r=null;break e}throw Error(S(130,e==null?e:typeof e,""))}return t=Ke(a,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function Jt(e,t,n,r){return e=Ke(7,e,r,t),e.lanes=n,e}function Ks(e,t,n,r){return e=Ke(22,e,r,t),e.elementType=Yo,e.lanes=n,e.stateNode={isHidden:!1},e}function Nl(e,t,n){return e=Ke(6,e,null,t),e.lanes=n,e}function wl(e,t,n){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sf(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nl(0),this.expirationTimes=nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ua(e,t,n,r,l,i,a,o,c){return e=new Sf(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ke(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ki(i),e}function kf(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $c(e){if(!e)return Ut;e=e._reactInternals;e:{if(an(e)!==e||e.tag!==1)throw Error(S(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(S(171))}if(e.tag===1){var n=e.type;if(Fe(n))return $u(e,n,t)}return t}function Uc(e,t,n,r,l,i,a,o,c){return e=ua(n,r,!0,e,l,i,a,o,c),e.context=$c(null),n=e.current,r=De(),l=Ot(n),i=xt(r,l),i.callback=t??null,zt(n,i,l),e.current.lanes=l,Er(e,l,r),Me(e,r),e}function Qs(e,t,n,r){var l=t.current,i=De(),a=Ot(l);return n=$c(n),t.context===null?t.context=n:t.pendingContext=n,t=xt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zt(l,t,a),e!==null&&(nt(e,l,a,i),rs(e,l,a)),a}function Ms(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function So(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ca(e,t){So(e,t),(e=e.alternate)&&So(e,t)}function Df(){return null}var Bc=typeof reportError=="function"?reportError:function(e){console.error(e)};function da(e){this._internalRoot=e}Gs.prototype.render=da.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));Qs(e,t,null,null)};Gs.prototype.unmount=da.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sn(function(){Qs(null,e,null,null)}),t[vt]=null}};function Gs(e){this._internalRoot=e}Gs.prototype.unstable_scheduleHydration=function(e){if(e){var t=vu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bt.length&&t!==0&&t<bt[n].priority;n++);bt.splice(n,0,e),n===0&&Nu(e)}};function ma(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ys(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ko(){}function bf(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var m=Ms(a);i.call(m)}}var a=Uc(t,r,e,0,null,!1,!1,"",ko);return e._reactRootContainer=a,e[vt]=a.current,gr(e.nodeType===8?e.parentNode:e),sn(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var m=Ms(c);o.call(m)}}var c=ua(e,0,!1,null,null,!1,!1,"",ko);return e._reactRootContainer=c,e[vt]=c.current,gr(e.nodeType===8?e.parentNode:e),sn(function(){Qs(t,c,n,r)}),c}function Zs(e,t,n,r,l){var i=n._reactRootContainer;if(i){var a=i;if(typeof l=="function"){var o=l;l=function(){var c=Ms(a);o.call(c)}}Qs(t,a,e,l)}else a=bf(n,t,e,l,r);return Ms(a)}gu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xn(t.pendingLanes);n!==0&&(Pi(t,n|1),Me(t,le()),!($&6)&&(In=le()+500,Ht()))}break;case 13:sn(function(){var r=jt(e,1);if(r!==null){var l=De();nt(r,e,1,l)}}),ca(e,1)}};Fi=function(e){if(e.tag===13){var t=jt(e,134217728);if(t!==null){var n=De();nt(t,e,134217728,n)}ca(e,134217728)}};yu=function(e){if(e.tag===13){var t=Ot(e),n=jt(e,t);if(n!==null){var r=De();nt(n,e,t,r)}ca(e,t)}};vu=function(){return V};ju=function(e,t){var n=V;try{return V=e,t()}finally{V=n}};zl=function(e,t,n){switch(t){case"input":if(El(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=$s(r);if(!l)throw Error(S(90));Xo(r),El(r,l)}}}break;case"textarea":Jo(e,n);break;case"select":t=n.value,t!=null&&wn(e,!!n.multiple,t,!1)}};iu=la;au=sn;var Tf={usingClientEntryPoint:!1,Events:[Pr,hn,$s,su,lu,la]},Gn={findFiberByHostInstance:Gt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ef={bundleType:Gn.bundleType,version:Gn.version,rendererPackageName:Gn.rendererPackageName,rendererConfig:Gn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cu(e),e===null?null:e.stateNode},findFiberByHostInstance:Gn.findFiberByHostInstance||Df,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zr.isDisabled&&Zr.supportsFiber)try{zs=Zr.inject(Ef),at=Zr}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tf;Ue.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ma(t))throw Error(S(200));return kf(e,t,null,n)};Ue.createRoot=function(e,t){if(!ma(e))throw Error(S(299));var n=!1,r="",l=Bc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ua(e,1,!1,null,null,n,!1,r,l),e[vt]=t.current,gr(e.nodeType===8?e.parentNode:e),new da(t)};Ue.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=cu(t),e=e===null?null:e.stateNode,e};Ue.flushSync=function(e){return sn(e)};Ue.hydrate=function(e,t,n){if(!Ys(t))throw Error(S(200));return Zs(null,e,t,!0,n)};Ue.hydrateRoot=function(e,t,n){if(!ma(e))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",a=Bc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Uc(t,null,e,1,n??null,l,!1,i,a),e[vt]=t.current,gr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Gs(t)};Ue.render=function(e,t,n){if(!Ys(t))throw Error(S(200));return Zs(null,e,t,!1,n)};Ue.unmountComponentAtNode=function(e){if(!Ys(e))throw Error(S(40));return e._reactRootContainer?(sn(function(){Zs(null,null,e,!1,function(){e._reactRootContainer=null,e[vt]=null})}),!0):!1};Ue.unstable_batchedUpdates=la;Ue.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ys(n))throw Error(S(200));if(e==null||e._reactInternals===void 0)throw Error(S(38));return Zs(e,t,n,!1,r)};Ue.version="18.3.1-next-f1338f8080-20240426";function Vc(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vc)}catch(e){console.error(e)}}Vc(),Vo.exports=Ue;var Rf=Vo.exports,Hc,Do=Rf;Hc=Do.createRoot,Do.hydrateRoot;const z=(e,t)=>`${t==="USD"?"$":"R"}${e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,hi=e=>e.reduce((t,n)=>t+n.amount,0),Wc=e=>e.filter(t=>t.isFlagged).length,xi=e=>e.filter(t=>t.isFlagged&&t.investigationStatus!=="resolved").length,Pf=e=>{const t=[];return e.forEach(n=>{n.costs.filter(r=>r.isFlagged).forEach(r=>{t.push({...r,tripId:n.id,tripFleetNumber:n.fleetNumber,tripRoute:n.route})})}),t.sort((n,r)=>{const l={pending:0,"in-progress":1,resolved:2},i=l[n.investigationStatus||"pending"],a=l[r.investigationStatus||"pending"];return i!==a?i-a:new Date(r.date).getTime()-new Date(n.date).getTime()})},Tn=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Ff=e=>xi(e.costs)===0,Kc=e=>{const t=e.baseRevenue||0,n=hi(e.costs),r=t-n,l=t>0?r/t*100:0,i=e.distanceKm&&e.distanceKm>0?n/e.distanceKm:0;return{totalRevenue:t,totalExpenses:n,netProfit:r,profitMargin:l,costPerKm:i,currency:e.revenueCurrency}},bo=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),St=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),Mf=e=>{try{const t=e.split(`
`).filter(l=>l.trim()!==""),n=t[0].split(",").map(l=>l.trim()),r=[];for(let l=1;l<t.length;l++){const i=t[l].split(",").map(o=>o.trim());if(i.length<n.length)continue;const a={};n.forEach((o,c)=>{a[o]=i[c]}),r.push(a)}return r}catch(t){throw console.error("Error parsing CSV:",t),new Error("Failed to parse CSV file. Please check the format.")}},_f=()=>{const e=["Fleet Number","Route","Client Name","Start Date","End Date","Driver Name","Distance (km)","Base Revenue","Revenue Currency","Description","Fuel Cost","Maintenance Cost","Driver Cost","Tolls","Other Costs"],t=["FL-001,New York NY - Boston MA,ABC Corp,2025-01-20,2025-01-22,John Smith,350,2500,USD,Sample trip,800,200,400,100,50"];return[e.join(","),...t].join(`
`)},If=()=>{const e=_f(),t=new Blob([e],{type:"text/csv"}),n=URL.createObjectURL(t),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download","trips-import-template.csv"),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},Qc=E.createContext(void 0),on=()=>{const e=E.useContext(Qc);if(!e)throw new Error("useAppContext must be used within an AppProvider");return e},zf=({children:e})=>{const[t,n]=E.useState([]),[r,l]=E.useState("connected");E.useEffect(()=>{const N=setInterval(()=>{const d=["connected","disconnected","reconnecting"],u=d[Math.floor(Math.random()*d.length)];Math.random()<.1&&l(u)},5e3);return()=>clearInterval(N)},[]);const v={trips:t,connectionStatus:r,addTrip:N=>{const d={...N,id:St(),costs:[],status:"active"};n(u=>[...u,d])},updateTrip:N=>{n(d=>d.map(u=>u.id===N.id?N:u))},deleteTrip:N=>{n(d=>d.filter(u=>u.id!==N))},addCostEntry:(N,d)=>{const u=St(),f=d?Array.from(d).map((w,k)=>({id:St(),costEntryId:u,filename:w.name,fileUrl:URL.createObjectURL(w),fileType:w.type,fileSize:w.size,uploadedAt:new Date().toISOString(),fileData:""})):[],x={...N,id:u,attachments:f,isFlagged:!1,isResolved:!1};return n(w=>w.map(k=>k.id===N.tripId?{...k,costs:[...k.costs,x]}:k)),u},updateCostEntry:N=>{n(d=>d.map(u=>({...u,costs:u.costs.map(f=>f.id===N.id?N:f)})))},deleteCostEntry:N=>{n(d=>d.map(u=>({...u,costs:u.costs.filter(f=>f.id!==N)})))},importTripsFromCSV:N=>{const d=N.map(u=>({id:St(),fleetNumber:u.fleetNumber||"",route:u.route||"",clientName:u.clientName||"",clientType:u.clientType||"external",baseRevenue:u.baseRevenue||0,revenueCurrency:u.revenueCurrency||"ZAR",startDate:u.startDate||"",endDate:u.endDate||"",driverName:u.driverName||"",distanceKm:u.distanceKm||0,description:u.description||"",status:"active",costs:[]}));n(u=>[...u,...d])},addAdditionalCost:(N,d,u)=>{const f=u?Array.from(u).map(w=>({id:St(),tripId:N,filename:w.name,fileUrl:URL.createObjectURL(w),fileType:w.type,fileSize:w.size,uploadedAt:new Date().toISOString(),fileData:""})):[],x={...d,id:St(),attachments:f,addedAt:new Date().toISOString()};n(w=>w.map(k=>k.id===N?{...k,additionalCosts:[...k.additionalCosts||[],x]}:k))},removeAdditionalCost:(N,d)=>{n(u=>u.map(f=>f.id===N?{...f,additionalCosts:(f.additionalCosts||[]).filter(x=>x.id!==d)}:f))},addDelayReason:(N,d)=>{const u={...d,id:St(),addedAt:new Date().toISOString()};n(f=>f.map(x=>x.id===N?{...x,delayReasons:[...x.delayReasons||[],u]}:x))}};return s.jsx(Qc.Provider,{value:v,children:e})},je=({children:e,className:t=""})=>s.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 ${t}`,children:e}),_s=({title:e,subtitle:t,action:n})=>s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e}),t&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t})]}),n&&n]})}),Ne=({children:e})=>s.jsx("div",{className:"px-6 py-4",children:e}),O=({children:e,onClick:t,disabled:n=!1,type:r="button",variant:l="primary",size:i="md",icon:a,isLoading:o=!1,className:c="",title:m})=>{const h="inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200",p={primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500",outline:"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 focus:ring-blue-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500"},g={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},j=`
    ${h}
    ${p[l]}
    ${g[i]}
    ${n||o?"opacity-50 cursor-not-allowed":""}
    ${c}
  `.trim();return s.jsxs("button",{type:r,onClick:t,disabled:n||o,className:j,title:m,children:[o?s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):a?s.jsx("span",{className:`${e?"mr-2":""}`,children:a}):null,e]})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Af={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),U=(e,t)=>{const n=E.forwardRef(({color:r="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,...m},h)=>E.createElement("svg",{ref:h,...Af,width:l,height:l,stroke:r,strokeWidth:a?Number(i)*24/Number(l):i,className:["lucide",`lucide-${Of(e)}`,o].join(" "),...m},[...t.map(([p,g])=>E.createElement(p,g)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=U("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=U("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=U("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=U("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=U("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=U("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=U("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=U("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=U("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=U("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=U("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=U("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=U("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=U("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=U("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=U("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=U("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=U("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=U("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=U("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=U("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=U("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=U("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=U("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=U("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=U("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yf=()=>{const{connectionStatus:e}=on(),t=()=>{switch(e){case"connected":return s.jsx(Jc,{className:"w-4 h-4 text-green-500"});case"disconnected":return s.jsx(qc,{className:"w-4 h-4 text-red-500"});case"reconnecting":return s.jsx(Vf,{className:"w-4 h-4 text-yellow-500 animate-spin"})}},n=()=>{switch(e){case"connected":return"Synced";case"disconnected":return"Offline";case"reconnecting":return"Syncing..."}},r=()=>{switch(e){case"connected":return"text-green-600";case"disconnected":return"text-red-600";case"reconnecting":return"text-yellow-600"}};return s.jsxs("div",{className:"flex items-center space-x-1",children:[t(),s.jsx("span",{className:`text-xs font-medium ${r()}`,children:n()})]})},Xt=({isOpen:e,onClose:t,title:n,children:r,maxWidth:l="md"})=>{if(E.useEffect(()=>{const a=o=>{o.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[e,t]),!e)return null;const i={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl"};return s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),s.jsxs("div",{className:`inline-block w-full ${i[l]} p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg`,children:[s.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n}),s.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded",children:s.jsx(Mr,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"mt-4",children:r})]})]})})},Zf=({isOpen:e,onClose:t})=>{const{importTripsFromCSV:n,connectionStatus:r}=on(),[l,i]=E.useState(null),[a,o]=E.useState(!1),[c,m]=E.useState([]),h=async j=>{var v;if((v=j.target.files)!=null&&v.length){const N=j.target.files[0];i(N);try{const d=await N.text(),u=p(d);m(u.slice(0,3))}catch(d){console.error("Failed to parse CSV for preview:",d)}}},p=j=>{const v=j.split(`
`),N=v[0].split(",").map(u=>u.trim()),d=[];for(let u=1;u<v.length;u++)if(v[u].trim()){const f=v[u].split(",").map(w=>w.trim()),x={};N.forEach((w,k)=>{x[w]=f[k]||""}),d.push(x)}return d},g=async()=>{if(l){o(!0);try{const j=await l.text(),N=p(j).map(d=>({fleetNumber:d.fleetNumber||d.fleet||"",route:d.route||"",clientName:d.clientName||d.client||"",baseRevenue:parseFloat(d.baseRevenue||d.revenue||"0"),revenueCurrency:d.revenueCurrency||d.currency||"ZAR",startDate:d.startDate||"",endDate:d.endDate||"",driverName:d.driverName||d.driver||"",distanceKm:parseFloat(d.distanceKm||d.distance||"0"),clientType:d.clientType||"external",description:d.description||""}));n(N),alert(`Successfully imported ${N.length} trips from CSV file.${r!=="connected"?`

Data will be synced when your connection is restored.`:""}`),t()}catch(j){console.error("Failed to import CSV:",j),alert("Failed to import CSV file. Please check the file format and try again.")}finally{o(!1)}}},C=()=>{i(null),o(!1),m([]),t()};return s.jsx(Xt,{isOpen:e,onClose:C,title:"Import Trips from CSV",maxWidth:"md",children:s.jsxs("div",{className:"space-y-6",children:[r!=="connected"&&s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[r==="disconnected"?s.jsx(qc,{className:"w-5 h-5 text-amber-600 mt-0.5"}):s.jsx(Jc,{className:"w-5 h-5 text-amber-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-amber-800",children:r==="disconnected"?"Working Offline":"Reconnecting..."}),s.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"You can still import trips while offline. Your data will be stored locally and synced with the server when your connection is restored."})]})]})}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"CSV Format Requirements"}),s.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("p",{children:"Your CSV file should include the following columns:"}),s.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"fleetNumber"}),' - Fleet identifier (e.g., "6H", "26H")']}),s.jsxs("li",{children:[s.jsx("strong",{children:"driverName"})," - Driver name"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"clientName"})," - Client/customer name"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"route"})," - Trip route description"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"baseRevenue"})," - Revenue amount (numeric)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"revenueCurrency"})," - Currency (USD or ZAR)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"startDate"})," - Start date (YYYY-MM-DD)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"endDate"})," - End date (YYYY-MM-DD)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"distanceKm"})," - Distance in kilometers (optional)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"clientType"}),' - "internal" or "external" (optional)']})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select CSV File"}),s.jsx("input",{type:"file",accept:".csv",onChange:h,className:`block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 
                file:rounded-md file:border-0 file:text-sm file:font-medium 
                file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100
                file:cursor-pointer cursor-pointer`})]}),l&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{className:"w-4 h-4 text-green-600"}),s.jsxs("span",{className:"text-sm font-medium text-green-800",children:["Selected: ",l.name]}),s.jsxs("span",{className:"text-sm text-green-600",children:["(",(l.size/1024).toFixed(1)," KB)"]})]})}),c.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Data Preview (First 3 rows):"}),s.jsx("div",{className:"bg-gray-50 p-3 rounded border overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[Object.keys(c[0]).slice(0,5).map(j=>s.jsx("th",{className:"px-2 py-1 text-left font-medium text-gray-700",children:j},j)),Object.keys(c[0]).length>5&&s.jsx("th",{className:"px-2 py-1 text-left font-medium text-gray-700",children:"..."})]})}),s.jsx("tbody",{children:c.map((j,v)=>s.jsxs("tr",{className:"border-b",children:[Object.entries(j).slice(0,5).map(([N,d],u)=>s.jsx("td",{className:"px-2 py-1 text-gray-600",children:String(d)},`${v}-${u}`)),Object.keys(j).length>5&&s.jsx("td",{className:"px-2 py-1 text-gray-600",children:"..."})]},v))})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx(O,{variant:"outline",onClick:C,disabled:a,icon:s.jsx(Mr,{className:"w-4 h-4"}),children:"Cancel"}),s.jsx(O,{onClick:g,disabled:!l||a,isLoading:a,icon:s.jsx(ut,{className:"w-4 h-4"}),children:a?"Importing...":"Import Trips"})]})]})})},Xf=({status:e}={})=>{const[t,n]=E.useState([]),[r,l]=E.useState(!0),[i,a]=E.useState(null);return E.useEffect(()=>{const o=async()=>{try{l(!0),a(null);const m=[{id:"firestore-1",fleetNumber:"FS-001",route:"Atlanta, GA - Charlotte, NC",clientName:"Logistics Corp",clientType:"external",baseRevenue:2800,revenueCurrency:"USD",startDate:"2025-01-15",endDate:"2025-01-17",driverName:"Michael Chen",distanceKm:385,description:"Priority freight delivery",status:e||"active",costs:[],source:"firestore",externalId:"fs-12345",lastUpdated:new Date().toISOString(),costBreakdown:{fuel:850.25,maintenance:200,driver:450,tolls:125,other:75},totalCost:1700.25},{id:"firestore-2",fleetNumber:"FS-002",route:"Phoenix, AZ - Las Vegas, NV",clientName:"Desert Transport",clientType:"internal",baseRevenue:2200,revenueCurrency:"USD",startDate:"2025-01-16",endDate:"2025-01-18",driverName:"Lisa Rodriguez",distanceKm:480,description:"Equipment transport",status:e||"active",costs:[],source:"firestore",externalId:"fs-67890",lastUpdated:new Date().toISOString(),costBreakdown:{fuel:920,maintenance:180,driver:380,tolls:95,other:45},totalCost:1620}],h=e?m.filter(p=>p.status===e):m;n(h)}catch(m){console.error("Error fetching real-time trips:",m),a("Failed to fetch real-time trips")}finally{l(!1)}};o();const c=setInterval(o,3e4);return()=>clearInterval(c)},[e]),{trips:t,loading:r,error:i}},qf=()=>{const[e,t]=E.useState([]),[n,r]=E.useState(!0),[l,i]=E.useState(null),[a,o]=E.useState([]),[c,m]=E.useState([]),[h,p]=E.useState([]);return E.useEffect(()=>{const g=async()=>{try{r(!0),i(null);const j=[{id:"wb-001",fleetNumber:"WB-101",route:"Miami, FL - Tampa, FL",clientName:"Sunshine Logistics",clientType:"external",baseRevenue:1850,revenueCurrency:"USD",startDate:"2025-01-15",endDate:"2025-01-16",driverName:"Carlos Martinez",distanceKm:285,description:"Web booked freight",status:"active",costs:[],source:"web_book",externalId:"wb-load-12345",lastUpdated:new Date().toISOString(),loadRef:"WB-LOAD-001",costBreakdown:{fuel:485,maintenance:120,driver:285,tolls:65,other:35},totalCost:990},{id:"wb-002",fleetNumber:"WB-102",route:"Houston, TX - Austin, TX",clientName:"Texas Freight Co",clientType:"external",baseRevenue:1250,revenueCurrency:"USD",startDate:"2025-01-16",endDate:"2025-01-17",driverName:"Jennifer Wilson",distanceKm:265,description:"Express delivery",status:"active",costs:[],source:"web_book",externalId:"wb-load-67890",lastUpdated:new Date().toISOString(),loadRef:"WB-LOAD-002",costBreakdown:{fuel:425,maintenance:95,driver:245,tolls:45,other:25},totalCost:835},{id:"wb-003",fleetNumber:"WB-103",route:"Denver, CO - Salt Lake City, UT",clientName:"Mountain Transport",clientType:"external",baseRevenue:2950,revenueCurrency:"USD",startDate:"2025-01-14",endDate:"2025-01-16",driverName:"Robert Taylor",distanceKm:525,description:"Long haul delivery",status:"completed",costs:[],source:"web_book",externalId:"wb-load-11111",lastUpdated:new Date().toISOString(),loadRef:"WB-LOAD-003",costBreakdown:{fuel:1250,maintenance:285,driver:525,tolls:155,other:85},totalCost:2300}];t(j),o(j.filter(v=>v.status==="active")),m(j.filter(v=>v.status==="delivered")),p(j.filter(v=>v.status==="completed"))}catch(j){console.error("Error fetching web book trips:",j),i("Failed to fetch web book trips")}finally{r(!1)}};g();const C=setInterval(g,6e4);return()=>clearInterval(C)},[]),{trips:e,loading:n,error:l,activeTrips:a,deliveredTrips:c,completedTrips:h}},Jf=({trips:e,onEdit:t,onDelete:n,onView:r})=>{const{addTrip:l}=on(),[i,a]=E.useState(!1),[o,c]=E.useState(!1),[m,h]=E.useState(""),[p,g]=E.useState(null),[C,j]=E.useState(!1),[v,N]=E.useState(null),[d,u]=E.useState(null),f=E.useRef(null),{trips:x}=Xf({status:"active"}),{trips:w,loading:k,activeTrips:R}=qf(),[P,B]=E.useState([{id:"webhook-1",fleetNumber:"WH-001",route:"Seattle, WA - Portland, OR",clientName:"Pacific Freight",clientType:"external",baseRevenue:1650,revenueCurrency:"USD",startDate:"2025-01-15",endDate:"2025-01-16",driverName:"David Kim",distanceKm:280,description:"Webhook integrated trip",status:"active",costs:[],source:"webhook",externalId:"wh-12345",lastUpdated:new Date().toISOString(),totalCost:890,costBreakdown:{fuel:420,maintenance:150,driver:250,tolls:45,other:25}}]),[F,te]=E.useState({cost:0,fuel:0,maintenance:0,driver:0,tolls:0,other:0}),Ce=y=>y.source==="firestore"?{...y,id:y.id,fleetNumber:y.fleetNumber,route:y.route,clientName:y.clientName,clientType:y.clientType,baseRevenue:y.baseRevenue,revenueCurrency:y.revenueCurrency,startDate:y.startDate,endDate:y.endDate,driverName:y.driverName,distanceKm:y.distanceKm,description:y.description,status:y.status,costs:y.costs||[],source:"firestore"}:y.source==="web_book"?{...y,id:y.id,fleetNumber:y.fleetNumber||y.loadRef,route:y.route,clientName:y.clientName,clientType:y.clientType,baseRevenue:y.baseRevenue,revenueCurrency:y.revenueCurrency,startDate:y.startDate,endDate:y.endDate,driverName:y.driverName,distanceKm:y.distanceKm,description:y.description,status:y.status,costs:y.costs||[],source:"web_book"}:y,ae=E.useMemo(()=>{let y=[];return y=[...y,...e.map(H=>({...H,source:"manual"}))],x&&x.length>0&&(y=[...y,...x.map(Ce)]),w&&w.length>0&&(y=[...y,...w.map(Ce)]),y=[...y,...P],y},[e,x,w,P]),ct=E.useMemo(()=>{let y=[...ae];return o&&(y=y.filter(H=>H.source==="web_book")),m&&(y=y.filter(H=>H.status===m)),y},[ae,o,m]),ne=ae.filter(y=>y.source==="web_book").length,Ze=ae.filter(y=>y.source==="firestore").length,fe=ae.filter(y=>y.source==="webhook").length,D=ae.filter(y=>y.source==="manual").length,M=()=>a(!0),I=()=>a(!1),W=y=>{if(y.source==="web_book"){alert("Web Book trips cannot be edited directly. Please use the Web Book system to make changes.");return}t(y)},J=y=>{const H=ae.find(Se=>Se.id===y);if(H&&H.source==="web_book"){alert("Web Book trips cannot be deleted from this interface. Please use the Web Book system.");return}H&&confirm(`Delete trip ${H.fleetNumber}? This cannot be undone.`)&&(H.source==="webhook"?B(Se=>Se.filter(Ve=>Ve.id!==y)):n(y))},T=y=>{var H,Se,Ve,dt,Ie;if(y.source==="web_book"){alert("Web Book trip costs are managed through the Web Book system.");return}g(y),te({cost:y.totalCost||hi(y.costs),fuel:((H=y.costBreakdown)==null?void 0:H.fuel)||0,maintenance:((Se=y.costBreakdown)==null?void 0:Se.maintenance)||0,driver:((Ve=y.costBreakdown)==null?void 0:Ve.driver)||0,tolls:((dt=y.costBreakdown)==null?void 0:dt.tolls)||0,other:((Ie=y.costBreakdown)==null?void 0:Ie.other)||0})},_=y=>{const{name:H,value:Se}=y.target,Ve=parseFloat(Se)||0;te(dt=>{const Ie={...dt,[H]:Ve};if(H!=="cost"){const $n=(Ie.fuel||0)+(Ie.maintenance||0)+(Ie.driver||0)+(Ie.tolls||0)+(Ie.other||0);Ie.cost=$n}return Ie})},re=()=>{p&&(p.source==="webhook"&&B(y=>y.map(H=>H.id===p.id?{...H,totalCost:F.cost,costBreakdown:{fuel:F.fuel,maintenance:F.maintenance,driver:F.driver,tolls:F.tolls,other:F.other},lastUpdated:new Date().toISOString()}:H)),g(null),u("Trip costs updated successfully"))},_e=()=>{g(null)},se=()=>{f.current&&f.current.click()},Wt=y=>{var Ve;const H=(Ve=y.target.files)==null?void 0:Ve[0];if(!H)return;j(!0),N(null),u(null);const Se=new FileReader;Se.onload=dt=>{var Ie;try{const $n=(Ie=dt.target)==null?void 0:Ie.result,pa=Mf($n);if(pa.length>0){const ha=pa.map((L,xa)=>({id:`imported-${Date.now()}-${xa}`,fleetNumber:L["Fleet Number"]||`IMP-${Date.now()}-${xa}`,route:L.Route||"Unknown",clientName:L["Client Name"]||"Unknown",clientType:L["Client Type"]||"external",baseRevenue:parseFloat(L["Base Revenue"])||0,revenueCurrency:L["Revenue Currency"]||"USD",startDate:L["Start Date"]||new Date().toISOString().split("T")[0],endDate:L["End Date"]||new Date().toISOString().split("T")[0],driverName:L["Driver Name"]||"Unknown",distanceKm:parseFloat(L["Distance (km)"])||0,description:L.Description||"",status:"active",costs:[],source:"manual",totalCost:parseFloat(L["Fuel Cost"]||"0")+parseFloat(L["Maintenance Cost"]||"0")+parseFloat(L["Driver Cost"]||"0")+parseFloat(L.Tolls||"0")+parseFloat(L["Other Costs"]||"0"),costBreakdown:{fuel:parseFloat(L["Fuel Cost"])||0,maintenance:parseFloat(L["Maintenance Cost"])||0,driver:parseFloat(L["Driver Cost"])||0,tolls:parseFloat(L.Tolls)||0,other:parseFloat(L["Other Costs"])||0},lastUpdated:new Date().toISOString()}));ha.forEach(L=>{l({fleetNumber:L.fleetNumber,route:L.route,clientName:L.clientName,clientType:L.clientType,baseRevenue:L.baseRevenue,revenueCurrency:L.revenueCurrency,startDate:L.startDate,endDate:L.endDate,driverName:L.driverName,distanceKm:L.distanceKm,description:L.description})}),u(`Successfully imported ${ha.length} trips.`)}else N("No valid trips found in the file.")}catch($n){console.error("Error importing trips:",$n),N("Failed to import trips. Please check the file format.")}finally{j(!1),f.current&&(f.current.value="")}},Se.onerror=()=>{N("Error reading the file."),j(!1)},Se.readAsText(H)},td=()=>{N(null),u(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Active Trips"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsxs("p",{className:"text-gray-500 mr-3",children:[ae.length," total trip",ae.length!==1?"s":"","(",D," manual, ",Ze," firestore, ",ne," web book, ",fe," webhook)"]}),s.jsx(Yf,{})]}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(To,{className:"h-4 w-4 text-green-600 mr-1"}),s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Real-time updates enabled"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("input",{type:"file",ref:f,accept:".csv",className:"hidden",onChange:Wt}),s.jsx(O,{variant:"outline",onClick:se,disabled:C,icon:C?s.jsx(Po,{className:"w-4 h-4 animate-spin"}):s.jsx(ut,{className:"w-4 h-4"}),children:C?"Importing...":"Import CSV"}),s.jsx(O,{variant:"outline",onClick:If,icon:s.jsx(Yc,{className:"w-4 h-4"}),children:"Download Template"}),s.jsx(O,{variant:"outline",onClick:td,icon:s.jsx(Po,{className:"w-4 h-4"}),children:"Refresh Data"}),s.jsx(O,{icon:s.jsx(ut,{className:"w-4 h-4"}),onClick:M,children:"Import Trips"})]})]}),d&&s.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded-r-md",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-700",children:d}),s.jsx("button",{onClick:()=>u(null),className:"text-green-500 hover:text-green-700",children:""})]})}),v&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-r-md",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-red-700",children:v}),s.jsx("button",{onClick:()=>N(null),className:"text-red-500 hover:text-red-700",children:""})]})}),s.jsx(je,{children:s.jsx(Ne,{children:s.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"webBookFilter",checked:o,onChange:y=>c(y.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"webBookFilter",className:"ml-2 text-sm text-gray-700",children:"Web Book Trips Only"})]}),s.jsxs("select",{value:m,onChange:y=>h(y.target.value),className:"border border-gray-300 rounded-md px-3 py-1.5 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"scheduled",children:"Scheduled"})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(je,{className:"hover:shadow-md transition-shadow",children:s.jsx(Ne,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lf,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{className:"ml-5",children:[s.jsx("dt",{className:"text-sm text-gray-500",children:"Total Active"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:ct.length})]})]})})}),s.jsx(je,{className:"hover:shadow-md transition-shadow",children:s.jsx(Ne,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(To,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{className:"ml-5",children:[s.jsx("dt",{className:"text-sm text-gray-500",children:"Web Book"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:ne})]})]})})}),s.jsx(je,{className:"hover:shadow-md transition-shadow",children:s.jsx(Ne,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(zn,{className:"h-8 w-8 text-yellow-600"}),s.jsxs("div",{className:"ml-5",children:[s.jsx("dt",{className:"text-sm text-gray-500",children:"Firestore"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:Ze})]})]})})}),s.jsx(je,{className:"hover:shadow-md transition-shadow",children:s.jsx(Ne,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wf,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{className:"ml-5",children:[s.jsx("dt",{className:"text-sm text-gray-500",children:"Manual/Webhook"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:D+fe})]})]})})})]}),ct.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No trips found"}),s.jsx("p",{className:"text-gray-500",children:o||m?"Try adjusting your filters or create your first trip.":"Create your first trip or import data to start tracking."}),s.jsx(O,{icon:s.jsx(ut,{className:"w-4 h-4"}),onClick:M,className:"mt-4",children:"Import Trips"})]}):s.jsx("div",{className:"grid gap-4",children:ct.map(y=>{const H=y.revenueCurrency,Se=y.totalCost||hi(y.costs),Ve=(y.baseRevenue||0)-Se,dt=Wc(y.costs);return s.jsxs(je,{className:"hover:shadow-md transition-shadow",children:[s.jsx(_s,{title:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{children:["Fleet ",y.fleetNumber," - ",y.route]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y.source==="web_book"?"bg-blue-100 text-blue-800":y.source==="firestore"?"bg-green-100 text-green-800":y.source==="webhook"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:y.source==="web_book"?"Web Book":y.source==="firestore"?"Firestore":y.source==="webhook"?"Webhook":"Manual"}),y.externalId&&s.jsxs("span",{className:"text-xs text-gray-500",children:["ID: ",y.externalId]})]}),subtitle:`${y.clientName}  ${y.startDate} to ${y.endDate}`}),s.jsxs(Ne,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Driver"}),s.jsx("p",{className:"font-medium",children:y.driverName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Revenue"}),s.jsx("p",{className:"font-medium text-green-600",children:z(y.baseRevenue||0,H)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Costs"}),s.jsx("p",{className:"font-medium text-red-600",children:z(Se,H)}),y.costBreakdown&&s.jsx("button",{className:"text-xs text-blue-600 hover:underline mt-1",onClick:()=>T(y),children:"View Breakdown"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Net Profit"}),s.jsx("p",{className:`font-medium ${Ve>=0?"text-green-600":"text-red-600"}`,children:z(Ve,H)})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:[y.costs.length," cost entries",y.distanceKm&&`  ${y.distanceKm} km`,y.lastUpdated&&s.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Updated: ",new Date(y.lastUpdated).toLocaleString()]})]}),dt>0&&s.jsxs("div",{className:"flex items-center space-x-1 text-amber-600",children:[s.jsx(Le,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm font-medium",children:[dt," flagged"]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(O,{size:"sm",variant:"outline",onClick:()=>r(y),icon:s.jsx(Zc,{className:"w-3 h-3"}),children:"View"}),y.costBreakdown&&y.source!=="web_book"&&s.jsx(O,{size:"sm",variant:"outline",onClick:()=>T(y),icon:s.jsx(gt,{className:"w-3 h-3"}),children:"Edit Costs"}),y.source==="manual"&&s.jsxs(s.Fragment,{children:[s.jsx(O,{size:"sm",variant:"outline",onClick:()=>W(y),icon:s.jsx(fa,{className:"w-3 h-3"}),children:"Edit"}),s.jsx(O,{size:"sm",variant:"danger",onClick:()=>J(y.id),icon:s.jsx(Xc,{className:"w-3 h-3"}),children:"Delete"})]})]})]})]})]},y.id)})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full p-6 m-4",children:[s.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Edit Trip Costs: ",p.fleetNumber,p.source&&s.jsxs("span",{className:"ml-2 px-2 inline-flex text-xs leading-5 font-medium rounded-full bg-blue-100 text-blue-800",children:[p.source.charAt(0).toUpperCase()+p.source.slice(1)," Trip"]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Route:"})," ",p.route]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Driver:"})," ",p.driverName]}),p.externalId&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"External ID:"})," ",p.externalId]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fuel Cost"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),s.jsx("input",{type:"number",name:"fuel",value:F.fuel,onChange:_,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maintenance Cost"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),s.jsx("input",{type:"number",name:"maintenance",value:F.maintenance,onChange:_,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver Cost"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),s.jsx("input",{type:"number",name:"driver",value:F.driver,onChange:_,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tolls"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),s.jsx("input",{type:"number",name:"tolls",value:F.tolls,onChange:_,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Other Costs"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),s.jsx("input",{type:"number",name:"other",value:F.other,onChange:_,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Cost"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm bg-gray-50",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),s.jsx("input",{type:"number",name:"cost",value:F.cost,readOnly:!0,className:"bg-gray-50 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md"})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Total is calculated automatically"})]})]})}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[s.jsx(O,{variant:"outline",onClick:_e,children:"Cancel"}),s.jsx(O,{onClick:re,children:"Save Changes"})]})]})}),s.jsx(Zf,{isOpen:i,onClose:I})]})},Xr={"Border Costs":["Beitbridge Border Fee","Gate Pass","Coupon","Carbon Tax Horse","CVG Horse","CVG Trailer","Insurance (1 Month Horse)","Insurance (3 Months Trailer)","Insurance (2 Months Trailer)","Insurance (1 Month Trailer)","Carbon Tax (3 Months Horse)","Carbon Tax (2 Months Horse)","Carbon Tax (1 Month Horse)","Carbon Tax (3 Months Trailer)","Carbon Tax (2 Months Trailer)","Carbon Tax (1 Month Trailer)","Road Access","Bridge Fee","Road Toll Fee","Counseling Leavy","Transit Permit Horse","Transit Permit Trailer","National Road Safety Fund Horse","National Road Safety Fund Trailer","Electronic Seal","EME Permit","Zim Clearing","Zim Supervision","SA Clearing","Runner Fee Beitbridge","Runner Fee Zambia Kazungula","Runner Fee Chirundu"],Parking:["Bubi","Lunde","Mvuma","Gweru","Kadoma","Chegutu","Norton","Harare","Ruwa","Marondera","Rusape","Mutare","Nyanga","Bindura","Shamva","Centenary","Guruve","Karoi","Chinhoyi","Kariba","Hwange","Victoria Falls","Bulawayo","Gwanda","Beitbridge","Masvingo","Zvishavane","Shurugwi","Kwekwe"],Diesel:["ACM Petroleum Chirundu - Reefer","ACM Petroleum Chirundu - Horse","RAM Petroleum Harare - Reefer","RAM Petroleum Harare - Horse","Engen Beitbridge - Reefer","Engen Beitbridge - Horse","Shell Mutare - Reefer","Shell Mutare - Horse","BP Bulawayo - Reefer","BP Bulawayo - Horse","Total Gweru - Reefer","Total Gweru - Horse","Puma Masvingo - Reefer","Puma Masvingo - Horse","Zuva Petroleum Kadoma - Reefer","Zuva Petroleum Kadoma - Horse","Mobil Chinhoyi - Reefer","Mobil Chinhoyi - Horse","Caltex Kwekwe - Reefer","Caltex Kwekwe - Horse"],"Non-Value-Added Costs":["Fines","Penalties","Passport Stamping","Push Documents","Jump Queue","Dismiss Inspection","Parcels","Labour"],"Trip Allowances":["Food","Airtime","Taxi"],Tolls:["Tolls BB to JHB","Tolls Cape Town to JHB","Tolls JHB to CPT","Tolls Mutare to BB","Tolls JHB to Martinsdrift","Tolls BB to Harare","Tolls Zambia"],"System Costs":["Repair & Maintenance per KM","Tyre Cost per KM","GIT Insurance","Short-Term Insurance","Tracking Cost","Fleet Management System","Licensing","VID / Roadworthy","Wages","Depreciation"]},ep={USD:{currency:"USD",perKmCosts:{repairMaintenance:.11,tyreCost:.03},perDayCosts:{gitInsurance:10.21,shortTermInsurance:7.58,trackingCost:2.47,fleetManagementSystem:1.34,licensing:1.32,vidRoadworthy:.41,wages:16.88,depreciation:321.17},lastUpdated:new Date().toISOString(),updatedBy:"System Default",effectiveDate:new Date().toISOString()},ZAR:{currency:"ZAR",perKmCosts:{repairMaintenance:2.05,tyreCost:.64},perDayCosts:{gitInsurance:134.82,shortTermInsurance:181.52,trackingCost:49.91,fleetManagementSystem:23.02,licensing:23.52,vidRoadworthy:11.89,wages:300.15,depreciation:634.45},lastUpdated:new Date().toISOString(),updatedBy:"System Default",effectiveDate:new Date().toISOString()}};new Date(Date.now()+30*24*60*60*1e3).toISOString(),new Date().toISOString(),new Date().toISOString();const de=({label:e,type:t="text",value:n,onChange:r,placeholder:l,required:i=!1,disabled:a=!1,error:o,className:c=""})=>s.jsxs("div",{className:`space-y-1 ${c}`,children:[e&&s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,i&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsx("input",{type:t,value:n,onChange:m=>r(m.target.value),placeholder:l,required:i,disabled:a,className:`
          block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm 
          placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500
          ${a?"bg-gray-50 cursor-not-allowed":"bg-white"}
          ${o?"border-red-300 focus:border-red-500 focus:ring-red-500":""}
        `}),o&&s.jsx("p",{className:"text-sm text-red-600",children:o})]}),br=({label:e,value:t,onChange:n,options:r,placeholder:l,required:i=!1,disabled:a=!1,error:o})=>s.jsxs("div",{className:"space-y-1",children:[e&&s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,i&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("select",{value:t,onChange:c=>n(c.target.value),required:i,disabled:a,className:`
          block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm 
          focus:outline-none focus:ring-blue-500 focus:border-blue-500
          ${a?"bg-gray-50 cursor-not-allowed":"bg-white"}
          ${o?"border-red-300 focus:border-red-500 focus:ring-red-500":""}
        `,children:[l&&s.jsx("option",{value:"",children:l}),r.map(c=>s.jsx("option",{value:c.value,children:c.label},c.value))]}),o&&s.jsx("p",{className:"text-sm text-red-600",children:o})]}),or=({label:e,value:t,onChange:n,placeholder:r,required:l=!1,disabled:i=!1,error:a,rows:o=3,className:c=""})=>s.jsxs("div",{className:`space-y-1 ${c}`,children:[e&&s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,l&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsx("textarea",{value:t,onChange:n,placeholder:r,required:l,disabled:i,rows:o,className:`
          block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm 
          placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500
          ${i?"bg-gray-50 cursor-not-allowed":"bg-white"}
          ${a?"border-red-300 focus:border-red-500 focus:ring-red-500":""}
        `}),a&&s.jsx("p",{className:"text-sm text-red-600",children:a})]}),ed=({label:e,accept:t,multiple:n=!1,onFileSelect:r,error:l,className:i=""})=>{const a=o=>{r(o.target.files)};return s.jsxs("div",{className:`space-y-1 ${i}`,children:[e&&s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),s.jsx("input",{type:"file",accept:t,multiple:n,onChange:a,className:`block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 
          file:rounded-md file:border-0 file:text-sm file:font-medium 
          file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100
          file:cursor-pointer cursor-pointer`}),l&&s.jsx("p",{className:"text-sm text-red-600",children:l})]})},tp=({tripId:e,cost:t,onSubmit:n,onCancel:r})=>{const[l,i]=E.useState({category:"",subCategory:"",amount:"",currency:"ZAR",referenceNumber:"",date:new Date().toISOString().split("T")[0],notes:"",isFlagged:!1,flagReason:"",noDocumentReason:""}),[a,o]=E.useState({}),[c,m]=E.useState(null),[h,p]=E.useState([]);E.useEffect(()=>{t?(i({category:t.category,subCategory:t.subCategory,amount:t.amount.toString(),currency:t.currency,referenceNumber:t.referenceNumber,date:t.date,notes:t.notes||"",isFlagged:t.isFlagged,flagReason:t.flagReason||"",noDocumentReason:t.noDocumentReason||""}),t.category&&Xr[t.category]&&p(Xr[t.category])):i(x=>({...x,date:new Date().toISOString().split("T")[0]}))},[t]);const g=(x,w)=>{if(i(k=>({...k,[x]:w})),x==="category"&&typeof w=="string"){const k=Xr[w]||[];p(k),i(R=>({...R,subCategory:""}))}a[x]&&o(k=>({...k,[x]:""}))},C=()=>{const x={};l.category||(x.category="Cost category is required"),l.subCategory||(x.subCategory="Sub-cost type is required"),l.amount||(x.amount="Amount is required"),l.amount&&isNaN(Number(l.amount))&&(x.amount="Amount must be a valid number"),Number(l.amount)<=0&&(x.amount="Amount must be greater than 0"),l.currency||(x.currency="Currency is required"),l.referenceNumber||(x.referenceNumber="Reference number is required"),l.date||(x.date="Date is required"),l.category==="System Costs"&&(x.category="System costs are automatically generated and cannot be manually added");const w=c&&c.length>0;t&&t.attachments&&t.attachments.length>0;const k=l.noDocumentReason.trim().length>0;return!t&&!w&&!k&&(x.documents="Either attach a receipt/document OR provide a reason for missing documentation"),l.isFlagged&&!l.flagReason.trim()&&(x.flagReason="Flag reason is required when manually flagging a cost entry"),o(x),Object.keys(x).length===0},j=x=>{if(x.preventDefault(),C()){const w=c&&c.length>0,k=t&&t.attachments&&t.attachments.length>0,R=w||k,B=["Non-Value-Added Costs","Border Costs"].includes(l.category),F=!R&&l.noDocumentReason.trim(),te=l.isFlagged||B||F;let Ce="";l.isFlagged&&l.flagReason.trim()?Ce=l.flagReason.trim():B?Ce=`High-risk category: ${l.category} - ${l.subCategory} requires review`:F&&(Ce=`Missing documentation: ${l.noDocumentReason.trim()}`);const ae={tripId:e,category:l.category,subCategory:l.subCategory,amount:Number(l.amount),currency:l.currency,referenceNumber:l.referenceNumber.trim(),date:l.date,notes:l.notes.trim(),isFlagged:te,flagReason:Ce||void 0,noDocumentReason:l.noDocumentReason.trim()||void 0,investigationStatus:te?"pending":void 0,flaggedAt:te?new Date().toISOString():void 0,flaggedBy:te?"Current User":void 0,isSystemGenerated:!1};n(ae,c||void 0)}},v=x=>x==="USD"?"$":"R",N=c&&c.length>0,d=t&&t.attachments&&t.attachments.length>0,u=N||d,f=["Non-Value-Added Costs","Border Costs"].includes(l.category);return s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[f&&s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Le,{className:"w-5 h-5 text-amber-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-amber-800",children:"High-Risk Category"}),s.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:[l.category," costs are automatically flagged for investigation due to their risk profile. Ensure all documentation is complete and accurate."]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost Category *"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",value:l.category,onChange:x=>g("category",x.target.value),children:[s.jsx("option",{value:"",children:"Select cost category"}),Object.keys(Xr).filter(x=>x!=="System Costs").map(x=>s.jsx("option",{value:x,children:x},x))]}),a.category&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:a.category})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub-Cost Type *"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",value:l.subCategory,onChange:x=>g("subCategory",x.target.value),disabled:!l.category,children:[s.jsx("option",{value:"",children:l.category?"Select sub-cost type":"Select category first"}),h.map(x=>s.jsx("option",{value:x,children:x},x))]}),a.subCategory&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:a.subCategory}),l.category&&h.length===0&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"No sub-categories available for this category"})]}),s.jsx(br,{label:"Currency *",value:l.category,onChange:x=>g("currency",x),options:[{label:"ZAR (R)",value:"ZAR"},{label:"USD ($)",value:"USD"}],error:a.currency}),s.jsx(de,{label:`Amount (${v(l.currency)}) *`,type:"number",value:l.amount,onChange:x=>g("amount",x),placeholder:"0.00",error:a.amount}),s.jsx(de,{label:"Reference Number *",value:l.referenceNumber,onChange:x=>g("referenceNumber",x),placeholder:"e.g., INV-123456, RECEIPT-001",error:a.referenceNumber}),s.jsx(de,{label:"Date *",type:"date",value:l.date,onChange:x=>g("date",x),error:a.date})]}),s.jsx(or,{label:"Notes (Optional)",value:l.notes,onChange:x=>g("notes",x.target.value),placeholder:"Additional notes about this cost entry...",rows:3}),s.jsxs("div",{className:"space-y-4 border-t pt-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Document Attachment (Required)"})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Le,{className:"w-5 h-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Documentation Requirement"}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Every cost entry must include either a receipt/document upload OR a valid explanation for missing documentation. Items without proper documentation will be automatically flagged for investigation."})]})]})}),s.jsx(ed,{label:"Attach Receipt/Document",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",multiple:!0,onFileSelect:m}),N&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-3",children:[s.jsxs("p",{className:"text-sm font-medium text-green-800 mb-2",children:["Selected Files (",c.length,"):"]}),s.jsx("ul",{className:"text-sm text-green-700 space-y-1",children:Array.from(c).map((x,w)=>s.jsxs("li",{className:"flex items-center",children:[s.jsx(ut,{className:"w-3 h-3 mr-2"}),x.name," (",(x.size/1024).toFixed(1)," KB)"]},w))})]}),d&&s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-3",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-800 mb-2",children:["Existing Attachments (",t.attachments.length,"):"]}),s.jsx("ul",{className:"text-sm text-gray-700 space-y-1",children:t.attachments.map(x=>s.jsxs("li",{className:"flex items-center",children:[s.jsx(ut,{className:"w-3 h-3 mr-2"}),x.filename]},x.id))})]}),!u&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(or,{label:"Reason for Missing Documentation *",value:l.noDocumentReason,onChange:x=>g("noDocumentReason",x.target.value),placeholder:"Explain why no receipt/document is available (e.g., 'Receipt lost during trip', 'Digital payment - no physical receipt', 'Emergency expense - receipt not provided')...",rows:3}),s.jsx("p",{className:"text-xs text-amber-600",children:" This entry will be automatically flagged for investigation due to missing documentation."})]}),a.documents&&s.jsx("p",{className:"text-sm text-red-600",children:a.documents})]}),s.jsxs("div",{className:"space-y-4 border-t pt-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"manualFlag",checked:l.isFlagged,onChange:x=>g("isFlagged",x.target.checked),className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),s.jsxs("label",{htmlFor:"manualFlag",className:"flex items-center text-sm font-medium text-gray-700",children:[s.jsx(Dr,{className:"w-4 h-4 mr-2 text-red-500"}),"Manually flag this cost entry for investigation"]})]}),l.isFlagged&&s.jsx("div",{className:"ml-7",children:s.jsx(or,{label:"Flag Reason *",value:l.flagReason,onChange:x=>g("flagReason",x.target.value),placeholder:"Explain why this cost is being flagged (e.g., 'Amount seems excessive', 'Unusual expense for this route', 'Requires management approval')...",rows:2,error:a.flagReason})}),s.jsxs("div",{className:"text-xs text-gray-500 ml-7",children:["Use manual flagging for suspicious amounts, unusual expenses, or items requiring special attention.",f&&s.jsx("span",{className:"block text-amber-600 font-medium mt-1",children:"Note: This category will be automatically flagged regardless of manual selection."})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[s.jsx(O,{type:"button",variant:"outline",onClick:r,icon:s.jsx(Mr,{className:"w-4 h-4"}),children:"Cancel"}),s.jsx(O,{type:"submit",icon:s.jsx(Gf,{className:"w-4 h-4"}),children:t?"Update Cost Entry":"Add Cost Entry"})]})]})},np=({costs:e,onEdit:t,onDelete:n})=>{var m;if(e.length===0)return s.jsxs("div",{className:"text-center py-8",children:[s.jsx(gi,{className:"mx-auto h-10 w-10 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No cost entries"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add cost entries to track expenses for this trip."})]});const r=h=>h.includes("pdf")?s.jsx(gi,{className:"w-4 h-4"}):h.includes("image")?s.jsx(Bf,{className:"w-4 h-4"}):s.jsx(Qf,{className:"w-4 h-4"}),l=h=>{switch(h){case"pending":return"text-yellow-600 bg-yellow-50";case"in-progress":return"text-blue-600 bg-blue-50";case"resolved":return"text-green-600 bg-green-50";default:return"text-red-600 bg-red-50"}},i=h=>{h.fileUrl?window.open(h.fileUrl,"_blank"):alert(`Viewing ${h.filename}

In a production system, this would open or download the file.`)},a=h=>{if(h.fileUrl){const p=document.createElement("a");p.href=h.fileUrl,p.download=h.filename,document.body.appendChild(p),p.click(),document.body.removeChild(p)}else alert(`Downloading ${h.filename}

In a production system, this would download the file.`)},o=e.filter(h=>h.isSystemGenerated),c=e.filter(h=>!h.isSystemGenerated);return s.jsxs("div",{className:"space-y-6",children:[c.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Manual Cost Entries (",c.length,")"]}),c.map(h=>s.jsx(je,{className:`hover:shadow-md transition-shadow ${h.isFlagged?"border-l-4 border-l-amber-400":""}`,children:s.jsx(Ne,{className:"p-4",children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:h.category}),s.jsx("p",{className:"text-sm text-gray-600",children:h.subCategory})]}),h.isFlagged&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Dr,{className:"w-4 h-4 text-amber-500"}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l(h.investigationStatus)}`,children:h.investigationStatus||"flagged"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold text-lg text-gray-900",children:z(h.amount,h.currency)}),s.jsx("p",{className:"text-sm text-gray-500",children:Tn(h.date)}),s.jsx("p",{className:"text-xs text-gray-400 font-medium",children:h.currency})]})]}),s.jsx("div",{className:"mb-2",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Ref: ",h.referenceNumber]})}),h.notes&&s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:h.notes}),h.isFlagged&&h.flagReason&&s.jsx("div",{className:"mb-3 p-2 bg-amber-50 border border-amber-200 rounded",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Le,{className:"w-4 h-4 text-amber-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Flag Reason:"}),s.jsx("p",{className:"text-sm text-amber-700",children:h.flagReason})]})]})}),h.investigationNotes&&s.jsxs("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded",children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Investigation Notes:"}),s.jsx("p",{className:"text-sm text-blue-700",children:h.investigationNotes})]}),h.noDocumentReason&&s.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded",children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Missing Document Reason:"}),s.jsx("p",{className:"text-sm text-red-700",children:h.noDocumentReason})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("p",{className:"text-xs font-medium text-gray-500 mb-2",children:["Documentation (",h.attachments.length," files)"]}),h.attachments.length>0?s.jsx("div",{className:"space-y-2",children:h.attachments.map(p=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[r(p.fileType),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.filename}),s.jsxs("p",{className:"text-xs text-gray-500",children:[p.fileSize?`${(p.fileSize/1024).toFixed(1)} KB`:"Unknown size","  Uploaded ",Tn(p.uploadedAt)]})]})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(O,{size:"sm",variant:"outline",onClick:()=>i(p),icon:s.jsx(Zc,{className:"w-3 h-3"}),className:"px-2 py-1",children:"View"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>a(p),icon:s.jsx(Yc,{className:"w-3 h-3"}),className:"px-2 py-1",children:"Download"})]})]},p.id))}):s.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Le,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-sm text-red-700 font-medium",children:"No documents attached"})]})})]}),(t||n)&&s.jsxs("div",{className:"flex justify-end space-x-2",children:[t&&s.jsx(O,{size:"sm",variant:"outline",onClick:()=>t(h),icon:s.jsx(fa,{className:"w-3 h-3"}),children:"Edit"}),n&&s.jsx(O,{size:"sm",variant:"danger",onClick:()=>n(h.id),icon:s.jsx(Xc,{className:"w-3 h-3"}),children:"Delete"})]})]})})})},h.id))]}),o.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gt,{className:"w-5 h-5 text-blue-600"}),s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["System-Generated Operational Overhead (",o.length,")"]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:s.jsx("p",{className:"text-sm text-blue-700",children:"These costs are automatically calculated based on predefined per-kilometer and per-day rates to ensure accurate profitability assessment."})}),o.map(h=>s.jsx(je,{className:"bg-blue-50 border-blue-200",children:s.jsx(Ne,{className:"p-4",children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gt,{className:"w-4 h-4 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:h.category}),s.jsx("p",{className:"text-sm text-blue-700",children:h.subCategory})]}),s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"System Generated"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold text-lg text-gray-900",children:z(h.amount,h.currency)}),s.jsx("p",{className:"text-sm text-gray-500",children:Tn(h.date)}),s.jsx("p",{className:"text-xs text-blue-600 font-medium",children:h.systemCostType==="per-km"?"Per-KM":"Per-Day"})]})]}),s.jsx("div",{className:"mb-2",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Ref: ",h.referenceNumber]})}),h.calculationDetails&&s.jsxs("div",{className:"mb-3 p-2 bg-blue-100 border border-blue-300 rounded",children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Calculation:"}),s.jsx("p",{className:"text-sm text-blue-700",children:h.calculationDetails})]}),h.notes&&s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:h.notes}),s.jsx("div",{className:"flex justify-end space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[s.jsx(Hf,{className:"w-3 h-3"}),s.jsx("span",{children:"System-generated (locked)"})]})})]})})})},h.id)),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-green-800",children:"Total System Costs"}),s.jsx("p",{className:"text-sm text-green-700",children:"Operational overhead automatically applied"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xl font-bold text-green-800",children:z(o.reduce((h,p)=>h+p.amount,0),((m=o[0])==null?void 0:m.currency)||"ZAR")}),s.jsxs("p",{className:"text-sm text-green-600",children:[o.length," entries"]})]})]})})]})]})},rp=({trip:e})=>{const t=Kc(e);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:["Trip Report: Fleet ",e.fleetNumber]}),s.jsxs("p",{className:"text-gray-600",children:[e.route,"  ",e.startDate," to ",e.endDate]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:z(t.totalRevenue,t.currency)})]}),s.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Total Expenses"}),s.jsx("p",{className:"text-2xl font-bold text-red-900",children:z(t.totalExpenses,t.currency)})]}),s.jsxs("div",{className:`p-4 rounded-lg ${t.netProfit>=0?"bg-green-50":"bg-red-50"}`,children:[s.jsx("h3",{className:`text-sm font-medium ${t.netProfit>=0?"text-green-800":"text-red-800"}`,children:"Net Profit/Loss"}),s.jsx("p",{className:`text-2xl font-bold ${t.netProfit>=0?"text-green-900":"text-red-900"}`,children:z(t.netProfit,t.currency)})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Profit Margin"}),s.jsxs("p",{className:`text-2xl font-bold ${t.profitMargin>=0?"text-blue-900":"text-red-900"}`,children:[t.profitMargin.toFixed(2),"%"]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cost Breakdown"}),s.jsx("div",{className:"space-y-2",children:e.costs.length===0?s.jsx("p",{className:"text-gray-500",children:"No cost entries recorded"}):e.costs.map((n,r)=>s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[n.category," - ",n.subCategory]}),s.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",n.date,")"]})]}),s.jsx("span",{className:"font-medium",children:z(n.amount,n.currency)})]},r))})]}),s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded",children:["Report generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]})]})},sp=({trip:e,onGenerateSystemCosts:t})=>{const[n,r]=E.useState(ep),{trips:l}=on();E.useEffect(()=>{const v=l.filter(N=>N.costs.some(d=>d.isSystemGenerated)&&N.revenueCurrency===e.revenueCurrency);if(v.length>0){v.sort((u,f)=>new Date(f.startDate).getTime()-new Date(u.startDate).getTime());const N=v[0],d=N.costs.find(u=>u.isSystemGenerated);if(d&&d.calculationDetails)try{console.log("Found system costs from recent trip:",N.id)}catch(u){console.error("Error parsing system cost rates:",u)}}},[l,e.revenueCurrency]);const a=(v=>{const N=n[v],d=new Date(e.startDate),u=new Date(N.effectiveDate);return d>=u,N})(e.revenueCurrency),o=new Date(e.startDate),c=new Date(e.endDate),m=Math.ceil((c.getTime()-o.getTime())/(1e3*60*60*24))+1,h=e.distanceKm?[{category:"System Costs",subCategory:"Repair & Maintenance per KM",amount:e.distanceKm*a.perKmCosts.repairMaintenance,rate:a.perKmCosts.repairMaintenance,calculation:`${e.distanceKm} km  ${z(a.perKmCosts.repairMaintenance,e.revenueCurrency)}/km`},{category:"System Costs",subCategory:"Tyre Cost per KM",amount:e.distanceKm*a.perKmCosts.tyreCost,rate:a.perKmCosts.tyreCost,calculation:`${e.distanceKm} km  ${z(a.perKmCosts.tyreCost,e.revenueCurrency)}/km`}]:[],p=[{category:"System Costs",subCategory:"GIT Insurance",amount:m*a.perDayCosts.gitInsurance,rate:a.perDayCosts.gitInsurance,calculation:`${m} days  ${z(a.perDayCosts.gitInsurance,e.revenueCurrency)}/day`},{category:"System Costs",subCategory:"Short-Term Insurance",amount:m*a.perDayCosts.shortTermInsurance,rate:a.perDayCosts.shortTermInsurance,calculation:`${m} days  ${z(a.perDayCosts.shortTermInsurance,e.revenueCurrency)}/day`},{category:"System Costs",subCategory:"Tracking Cost",amount:m*a.perDayCosts.trackingCost,rate:a.perDayCosts.trackingCost,calculation:`${m} days  ${z(a.perDayCosts.trackingCost,e.revenueCurrency)}/day`},{category:"System Costs",subCategory:"Fleet Management System",amount:m*a.perDayCosts.fleetManagementSystem,rate:a.perDayCosts.fleetManagementSystem,calculation:`${m} days  ${z(a.perDayCosts.fleetManagementSystem,e.revenueCurrency)}/day`},{category:"System Costs",subCategory:"Licensing",amount:m*a.perDayCosts.licensing,rate:a.perDayCosts.licensing,calculation:`${m} days  ${z(a.perDayCosts.licensing,e.revenueCurrency)}/day`},{category:"System Costs",subCategory:"VID / Roadworthy",amount:m*a.perDayCosts.vidRoadworthy,rate:a.perDayCosts.vidRoadworthy,calculation:`${m} days  ${z(a.perDayCosts.vidRoadworthy,e.revenueCurrency)}/day`},{category:"System Costs",subCategory:"Wages",amount:m*a.perDayCosts.wages,rate:a.perDayCosts.wages,calculation:`${m} days  ${z(a.perDayCosts.wages,e.revenueCurrency)}/day`},{category:"System Costs",subCategory:"Depreciation",amount:m*a.perDayCosts.depreciation,rate:a.perDayCosts.depreciation,calculation:`${m} days  ${z(a.perDayCosts.depreciation,e.revenueCurrency)}/day`}],g=[...h,...p],C=g.reduce((v,N)=>v+N.amount,0),j=()=>{const v=g.map((N,d)=>({tripId:e.id,category:N.category,subCategory:N.subCategory,amount:N.amount,currency:e.revenueCurrency,referenceNumber:`SYS-${e.id}-${String(d+1).padStart(3,"0")}`,date:e.startDate,notes:`System-generated operational overhead cost. ${N.calculation}`,isFlagged:!1,isSystemGenerated:!0,systemCostType:N.subCategory.includes("per KM")?"per-km":"per-day",calculationDetails:N.calculation}));t(v)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(gt,{className:"w-5 h-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Automatic Operational Cost Injection"}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"System will automatically apply predefined per-kilometer and per-day fixed cost factors to ensure true operational profitability assessment."})]})]})}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Applied Rate Version"}),s.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Currency:"})," ",a.currency]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Effective Date:"})," ",new Date(a.effectiveDate).toLocaleDateString()]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Last Updated:"})," ",new Date(a.lastUpdated).toLocaleDateString()]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Updated By:"})," ",a.updatedBy]}),s.jsxs("p",{className:"text-xs mt-2 text-green-600",children:[" These rates are applicable to this trip based on the trip start date (",new Date(e.startDate).toLocaleDateString(),")"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Kf,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Distance"})]}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.distanceKm?`${e.distanceKm} km`:"Not specified"}),!e.distanceKm&&s.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Per-KM costs will not be applied"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(zn,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Duration"})]}),s.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[m," days"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[e.startDate," to ",e.endDate]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(gt,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Currency"})]}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.revenueCurrency}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Using ",e.revenueCurrency," rates"]})]})]}),e.distanceKm&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Per-Kilometer Costs"}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-md overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Cost Type"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:"Rate/km"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:"Distance"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:"Total Cost"})]})}),s.jsx("tbody",{children:h.map((v,N)=>s.jsxs("tr",{className:"border-t border-gray-200",children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:v.subCategory}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:z(v.rate,e.revenueCurrency)}),s.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:[e.distanceKm," km"]}),s.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 text-right",children:z(v.amount,e.revenueCurrency)})]},N))})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Per-Day Fixed Costs"}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-md overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Cost Type"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:"Rate/Day"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:"No. of Days"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:"Total Cost"})]})}),s.jsx("tbody",{children:p.map((v,N)=>s.jsxs("tr",{className:"border-t border-gray-200",children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:v.subCategory}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:z(v.rate,e.revenueCurrency)}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:m}),s.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 text-right",children:z(v.amount,e.revenueCurrency)})]},N))})]})})]}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-green-800",children:"Total System Costs"}),s.jsxs("p",{className:"text-sm text-green-700",children:[g.length," cost entries will be automatically generated"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-2xl font-bold text-green-800",children:z(C,e.revenueCurrency)}),s.jsx("p",{className:"text-sm text-green-600",children:"Operational overhead"})]})]})}),!e.distanceKm&&s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Le,{className:"w-5 h-5 text-amber-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-amber-800",children:"Distance Not Specified"}),s.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Per-kilometer costs (Repair & Maintenance, Tyre Cost) will not be applied. Consider adding distance information to the trip for complete cost analysis."})]})]})}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{type:"button",onClick:j,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(gt,{className:"w-5 h-5 mr-2"}),"Generate System Costs (",g.length," entries)"]})})]})},lp=({isOpen:e,trip:t,onClose:n,onSubmit:r,onAddAdditionalCost:l,onRemoveAdditionalCost:i})=>{const[a,o]=E.useState({invoiceNumber:"",invoiceDate:new Date().toISOString().split("T")[0],invoiceDueDate:"",finalArrivalDateTime:t.actualArrivalDateTime||"",finalOffloadDateTime:t.actualOffloadDateTime||"",finalDepartureDateTime:t.actualDepartureDateTime||"",validationNotes:""}),[c,m]=E.useState({proofOfDelivery:null,signedInvoice:null}),h=p=>{p.preventDefault(),r({invoiceNumber:a.invoiceNumber,invoiceDate:a.invoiceDate,invoiceDueDate:a.invoiceDueDate,finalTimeline:{finalArrivalDateTime:a.finalArrivalDateTime,finalOffloadDateTime:a.finalOffloadDateTime,finalDepartureDateTime:a.finalDepartureDateTime},validationNotes:a.validationNotes,proofOfDelivery:c.proofOfDelivery,signedInvoice:c.signedInvoice})};return s.jsx(Xt,{isOpen:e,onClose:n,title:"Submit Trip for Invoicing",maxWidth:"2xl",children:s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Ready for Invoicing"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"This completed trip is ready to be submitted for invoicing. Please validate all information and attach required documents."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(de,{label:"Invoice Number",value:a.invoiceNumber,onChange:p=>o({...a,invoiceNumber:p}),placeholder:"INV-2024-001",required:!0}),s.jsx(de,{label:"Invoice Date",type:"date",value:a.invoiceDate,onChange:p=>o({...a,invoiceDate:p}),required:!0}),s.jsx(de,{label:"Due Date",type:"date",value:a.invoiceDueDate,onChange:p=>o({...a,invoiceDueDate:p}),required:!0})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Final Timeline Validation"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(de,{label:"Final Arrival Time",type:"datetime-local",value:a.finalArrivalDateTime,onChange:p=>o({...a,finalArrivalDateTime:p}),required:!0}),s.jsx(de,{label:"Final Offload Time",type:"datetime-local",value:a.finalOffloadDateTime,onChange:p=>o({...a,finalOffloadDateTime:p}),required:!0}),s.jsx(de,{label:"Final Departure Time",type:"datetime-local",value:a.finalDepartureDateTime,onChange:p=>o({...a,finalDepartureDateTime:p}),required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Validation Notes"}),s.jsx("textarea",{value:a.validationNotes,onChange:p=>o({...a,validationNotes:p.target.value}),rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Any notes about timeline validation or special circumstances..."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Proof of Delivery *"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*,.pdf",onChange:p=>m({...c,proofOfDelivery:p.target.files}),className:`block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 
                file:rounded-md file:border-0 file:text-sm file:font-medium 
                file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100`,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Signed Invoice *"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*,.pdf",onChange:p=>m({...c,signedInvoice:p.target.files}),className:`block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 
                file:rounded-md file:border-0 file:text-sm file:font-medium 
                file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100`,required:!0})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[s.jsx(O,{type:"button",variant:"outline",onClick:n,icon:s.jsx(Mr,{className:"w-4 h-4"}),children:"Cancel"}),s.jsx(O,{type:"submit",icon:s.jsx(yi,{className:"w-4 h-4"}),children:"Submit for Invoicing"})]})]})})},ip=({trip:e,onUpdate:t,onAddDelay:n})=>{const[r,l]=E.useState({plannedArrival:e.plannedArrivalDateTime||"",actualArrival:e.actualArrivalDateTime||"",plannedOffload:e.plannedOffloadDateTime||"",actualOffload:e.actualOffloadDateTime||"",plannedDeparture:e.plannedDepartureDateTime||"",actualDeparture:e.actualDepartureDateTime||""}),[i,a]=E.useState({type:"weather",description:"",impact:"minor",duration:""}),o=()=>{const p={...e,plannedArrivalDateTime:r.plannedArrival,actualArrivalDateTime:r.actualArrival,plannedOffloadDateTime:r.plannedOffload,actualOffloadDateTime:r.actualOffload,plannedDepartureDateTime:r.plannedDeparture,actualDepartureDateTime:r.actualDeparture};t(p)},c=()=>{!i.description||!i.duration||(n({type:i.type,description:i.description,impact:i.impact,duration:parseFloat(i.duration)}),a({type:"weather",description:"",impact:"minor",duration:""}))},m=[{value:"weather",label:"Weather"},{value:"traffic",label:"Traffic"},{value:"mechanical",label:"Mechanical"},{value:"client",label:"Client Related"},{value:"other",label:"Other"}],h=[{value:"minor",label:"Minor (< 2 hours)"},{value:"moderate",label:"Moderate (2-8 hours)"},{value:"major",label:"Major (> 8 hours)"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gc,{className:"w-5 h-5 text-blue-600"}),s.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Trip Timeline Management"})]}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Track planned vs actual timeline events and manage delay reasons for accurate reporting."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Timeline Events"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Planned Timeline"}),s.jsx(de,{label:"Planned Arrival",type:"datetime-local",value:r.plannedArrival,onChange:p=>l({...r,plannedArrival:p})}),s.jsx(de,{label:"Planned Offload Start",type:"datetime-local",value:r.plannedOffload,onChange:p=>l({...r,plannedOffload:p})}),s.jsx(de,{label:"Planned Departure",type:"datetime-local",value:r.plannedDeparture,onChange:p=>l({...r,plannedDeparture:p})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Actual Timeline"}),s.jsx(de,{label:"Actual Arrival",type:"datetime-local",value:r.actualArrival,onChange:p=>l({...r,actualArrival:p})}),s.jsx(de,{label:"Actual Offload Start",type:"datetime-local",value:r.actualOffload,onChange:p=>l({...r,actualOffload:p})}),s.jsx(de,{label:"Actual Departure",type:"datetime-local",value:r.actualDeparture,onChange:p=>l({...r,actualDeparture:p})})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(O,{onClick:o,icon:s.jsx(zn,{className:"w-4 h-4"}),children:"Update Timeline"})})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Delay Reasons"}),e.delayReasons&&e.delayReasons.length>0&&s.jsx("div",{className:"mb-4 space-y-2",children:e.delayReasons.map(p=>s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Le,{className:"w-4 h-4 text-amber-600"}),s.jsx("span",{className:"font-medium capitalize",children:p.type}),s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${p.impact==="major"?"bg-red-100 text-red-800":p.impact==="moderate"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:p.impact})]}),s.jsxs("span",{className:"text-sm text-gray-600",children:[p.duration," hours"]})]}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:p.description})]},p.id))}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Add Delay Reason"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(br,{label:"Delay Type",value:i.type,onChange:p=>a({...i,type:p}),options:m}),s.jsx(br,{label:"Impact Level",value:i.impact,onChange:p=>a({...i,impact:p}),options:h})]}),s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsx(de,{label:"Description",value:i.description,onChange:p=>a({...i,description:p}),placeholder:"Describe the cause and nature of the delay"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(de,{label:"Duration (hours)",type:"number",value:i.duration,onChange:p=>a({...i,duration:p}),placeholder:"2.5"}),s.jsx("div",{className:"flex items-end",children:s.jsx(O,{onClick:c,icon:s.jsx(Le,{className:"w-4 h-4"}),children:"Add Delay"})})]})]})]})]})]})},ap=({trip:e,onBack:t})=>{const{addCostEntry:n,updateCostEntry:r,deleteCostEntry:l,updateTrip:i,addAdditionalCost:a,removeAdditionalCost:o,addDelayReason:c}=on(),[m,h]=E.useState(!1),[p,g]=E.useState(!1),[C,j]=E.useState(!1),[v,N]=E.useState(!1),[d,u]=E.useState(!1),[f,x]=E.useState(),w=(T,_)=>{try{const re=n(T,_);h(!1),alert(`Cost entry added successfully!

Category: ${T.category}
Amount: ${z(T.amount,T.currency)}
Reference: ${T.referenceNumber}`)}catch(re){console.error("Error adding cost entry:",re),alert("Error adding cost entry. Please try again.")}},k=(T,_)=>{if(f)try{const re=_?Array.from(_).map((se,Wt)=>({id:`A${Date.now()}-${Wt}`,costEntryId:f.id,filename:se.name,fileUrl:URL.createObjectURL(se),fileType:se.type,fileSize:se.size,uploadedAt:new Date().toISOString(),fileData:""})):[],_e={...f,...T,attachments:[...f.attachments,...re]};r(_e),x(void 0),h(!1),alert("Cost entry updated successfully!")}catch(re){console.error("Error updating cost entry:",re),alert("Error updating cost entry. Please try again.")}},R=T=>{x(T),h(!0)},P=T=>{if(confirm("Are you sure you want to delete this cost entry? This action cannot be undone."))try{l(T),alert("Cost entry deleted successfully!")}catch(_){console.error("Error deleting cost entry:",_),alert("Error deleting cost entry. Please try again.")}},B=T=>{try{for(const _ of T)n(_);j(!1),alert(`System costs generated successfully!

${T.length} cost entries have been added:

${T.map(_=>` ${_.subCategory}: ${z(_.amount,_.currency)}`).join(`
`)}

Total system costs: ${z(T.reduce((_,re)=>_+re.amount,0),e.revenueCurrency)}`)}catch(_){console.error("Error generating system costs:",_),alert("Error generating system costs. Please try again.")}},F=()=>{const T=xi(e.costs);if(T>0){alert(`Cannot complete trip: ${T} unresolved flagged items must be resolved before completing the trip.

Please go to the Flags & Investigations section to resolve all outstanding issues.`);return}if(confirm(`Are you sure you want to mark this trip as COMPLETED?

This will:
 Lock the trip from further editing
 Move it to the Completed Trips section
 Make it available for invoicing

This action cannot be undone.`))try{i({...e,status:"completed",completedAt:new Date().toISOString().split("T")[0],completedBy:"Current User"}),alert("Trip has been successfully completed and is now ready for invoicing."),t()}catch(re){console.error("Error completing trip:",re),alert("Error completing trip. Please try again.")}},te=T=>{try{const _=T.proofOfDelivery?Array.from(T.proofOfDelivery).map((se,Wt)=>({id:`POD${Date.now()}-${Wt}`,tripId:e.id,filename:se.name,fileUrl:URL.createObjectURL(se),fileType:se.type,fileSize:se.size,uploadedAt:new Date().toISOString(),fileData:""})):[],re=T.signedInvoice?Array.from(T.signedInvoice).map((se,Wt)=>({id:`INV${Date.now()}-${Wt}`,tripId:e.id,filename:se.name,fileUrl:URL.createObjectURL(se),fileType:se.type,fileSize:se.size,uploadedAt:new Date().toISOString(),fileData:""})):[],_e={...e,status:"invoiced",invoiceNumber:T.invoiceNumber,invoiceDate:T.invoiceDate,invoiceDueDate:T.invoiceDueDate,invoiceSubmittedAt:new Date().toISOString(),invoiceSubmittedBy:"Current User",invoiceValidationNotes:T.validationNotes,finalArrivalDateTime:T.finalTimeline.finalArrivalDateTime,finalOffloadDateTime:T.finalTimeline.finalOffloadDateTime,finalDepartureDateTime:T.finalTimeline.finalDepartureDateTime,timelineValidated:!0,timelineValidatedBy:"Current User",timelineValidatedAt:new Date().toISOString(),proofOfDelivery:_,signedInvoice:re,paymentStatus:"unpaid"};i(_e),N(!1),alert(`Trip successfully submitted for invoicing!

Invoice Number: ${T.invoiceNumber}
Due Date: ${T.invoiceDueDate}

The trip is now in the invoicing workflow and payment tracking has begun.`),t()}catch(_){console.error("Error submitting invoice:",_),alert("Error submitting invoice. Please try again.")}},Ce=(T,_)=>{try{a(e.id,T,_)}catch(re){console.error("Error adding additional cost:",re),alert("Error adding additional cost. Please try again.")}},ae=T=>{try{o(e.id,T)}catch(_){console.error("Error removing additional cost:",_),alert("Error removing additional cost. Please try again.")}},ct=()=>{h(!1),x(void 0)},ne=Kc(e),Ze=Wc(e.costs),fe=xi(e.costs),D=Ff(e),M=e.costs.some(T=>T.isSystemGenerated),I=e.costs.filter(T=>T.isSystemGenerated),W=e.costs.filter(T=>!T.isSystemGenerated),J=()=>{if(!e.plannedArrivalDateTime||!e.actualArrivalDateTime)return!1;const T=new Date(e.plannedArrivalDateTime),_=new Date(e.actualArrivalDateTime);return Math.abs((_.getTime()-T.getTime())/(1e3*60*60))>1};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx(O,{variant:"outline",onClick:t,icon:s.jsx($f,{className:"w-4 h-4"}),children:"Back to Trips"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(O,{variant:"outline",onClick:()=>g(!0),icon:s.jsx(Uf,{className:"w-4 h-4"}),children:"View Report"}),e.status==="active"&&s.jsxs(s.Fragment,{children:[s.jsx(O,{variant:"outline",onClick:()=>u(!0),icon:s.jsx(Gc,{className:"w-4 h-4"}),children:"Trip Planning"}),!M&&s.jsx(O,{variant:"outline",onClick:()=>j(!0),icon:s.jsx(gt,{className:"w-4 h-4"}),children:"Generate System Costs"}),s.jsx(O,{onClick:()=>h(!0),icon:s.jsx(Ro,{className:"w-4 h-4"}),children:"Add Cost Entry"}),s.jsx(O,{onClick:F,disabled:!D,icon:s.jsx(Pt,{className:"w-4 h-4"}),className:D?"":"opacity-50 cursor-not-allowed",title:D?"Mark trip as completed":`Cannot complete: ${fe} unresolved flags`,children:"Complete Trip"})]}),e.status==="completed"&&s.jsx(O,{onClick:()=>N(!0),icon:s.jsx(yi,{className:"w-4 h-4"}),children:"Submit for Invoicing"})]})]}),e.status==="invoiced"&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-md",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(yi,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Trip Invoiced - Payment Tracking Active"}),s.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Invoice #",e.invoiceNumber," submitted on ",bo(e.invoiceSubmittedAt)," by ",e.invoiceSubmittedBy,". Due date: ",e.invoiceDueDate,". Payment status: ",e.paymentStatus.toUpperCase(),"."]}),e.timelineValidated&&s.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[" Timeline validated on ",bo(e.timelineValidatedAt)]})]})]})}),J()&&e.status==="active"&&s.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-md",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(zn,{className:"w-5 h-5 text-amber-600 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-amber-800",children:"Timeline Discrepancies Detected"}),s.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Significant differences found between planned and actual times. Review timeline in Trip Planning section before completion."})]})]})}),e.autoCompletedAt&&s.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded-r-md",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Pt,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Trip Auto-Completed"}),s.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["This trip was automatically completed on ",new Date(e.autoCompletedAt).toLocaleDateString(),"because all investigations were resolved. Reason: ",e.autoCompletedReason]})]})]})}),e.status==="active"&&!M&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-md",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(gt,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"System Costs Not Generated"}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Automatic operational overhead costs have not been applied to this trip. Generate system costs to ensure accurate profitability assessment including per-kilometer and per-day fixed costs."}),s.jsx("div",{className:"mt-2",children:s.jsx(O,{size:"sm",onClick:()=>j(!0),icon:s.jsx(gt,{className:"w-4 h-4"}),children:"Generate System Costs Now"})})]})]})}),M&&s.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded-r-md",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Pt,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium text-green-800",children:["System Costs Applied (",I.length," entries)"]}),s.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Automatic operational overhead costs have been applied: ",z(I.reduce((T,_)=>T+_.amount,0),e.revenueCurrency)," total system costs."]})]})]})}),e.status==="active"&&fe>0&&s.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-md",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Le,{className:"w-5 h-5 text-amber-600 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium text-amber-800",children:[fe," Unresolved Flag",fe!==1?"s":""," - Trip Cannot Be Completed"]}),s.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["All flagged cost entries must be investigated and resolved before this trip can be marked as completed. Visit the ",s.jsx("strong",{children:"Flags & Investigations"})," section to resolve outstanding issues."]}),s.jsx("div",{className:"mt-2",children:s.jsxs("span",{className:"text-xs text-amber-600",children:["Flagged items: ",Ze," total  ",fe," unresolved  ",Ze-fe," resolved"]})})]})]})}),e.status==="completed"&&s.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded-r-md",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pt,{className:"w-5 h-5 text-green-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Trip Completed - Ready for Invoicing"}),s.jsxs("p",{className:"text-sm text-green-700",children:["This trip was completed on ",e.completedAt," by ",e.completedBy,". All cost entries are finalized and the trip is ready for invoice submission."]})]})]})}),s.jsxs(je,{children:[s.jsx(_s,{title:`Fleet ${e.fleetNumber} - Trip Details`,subtitle:e.status==="completed"?`Completed ${e.completedAt}`:e.status==="invoiced"?`Invoiced ${e.invoiceDate}`:"Active Trip"}),s.jsx(Ne,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 border-b pb-2",children:"Trip Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Driver"}),s.jsx("p",{className:"font-medium",children:e.driverName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Client"}),s.jsx("p",{className:"font-medium",children:e.clientName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Client Type"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${e.clientType==="internal"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:e.clientType==="internal"?"Internal Client":"External Client"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Route"}),s.jsx("p",{className:"font-medium",children:e.route})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),s.jsxs("p",{className:"font-medium",children:[e.startDate," to ",e.endDate]})]}),e.distanceKm&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Distance"}),s.jsxs("p",{className:"font-medium",children:[e.distanceKm," km"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${e.status==="completed"?"bg-green-100 text-green-800":e.status==="invoiced"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:e.status==="completed"?"Completed":e.status==="invoiced"?"Invoiced":"Active"})]}),e.description&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Description"}),s.jsx("p",{className:"font-medium text-gray-700",children:e.description})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 border-b pb-2",children:"Financial Summary"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Currency"}),s.jsxs("p",{className:"font-medium",children:[ne.currency," (",ne.currency==="USD"?"$":"R",")"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Base Revenue"}),s.jsx("p",{className:"font-medium text-green-600",children:z(ne.totalRevenue,ne.currency)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Costs"}),s.jsx("p",{className:"font-medium text-red-600",children:z(ne.totalExpenses,ne.currency)}),M&&s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Manual: ",z(W.reduce((T,_)=>T+_.amount,0),ne.currency),"  System: ",z(I.reduce((T,_)=>T+_.amount,0),ne.currency)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Net Profit/Loss"}),s.jsx("p",{className:`font-bold text-lg ${ne.netProfit>=0?"text-green-600":"text-red-600"}`,children:z(ne.netProfit,ne.currency)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Profit Margin"}),s.jsxs("p",{className:`font-medium ${ne.profitMargin>=0?"text-green-600":"text-red-600"}`,children:[ne.profitMargin.toFixed(2),"%"]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 border-b pb-2",children:"Key Metrics & Status"}),s.jsxs("div",{className:"space-y-3",children:[ne.costPerKm>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Cost per Kilometer"}),s.jsxs("p",{className:"font-medium",children:[z(ne.costPerKm,ne.currency),"/km"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Cost Entries"}),s.jsxs("p",{className:"font-medium",children:[e.costs.length," entries"]}),M&&s.jsxs("div",{className:"text-xs text-gray-500",children:[W.length," manual  ",I.length," system"]})]}),Ze>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Flagged Items"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dr,{className:"w-4 h-4 text-amber-500"}),s.jsxs("span",{className:"font-medium text-amber-600",children:[Ze," flagged"]}),fe>0&&s.jsxs("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full",children:[fe," unresolved"]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Documentation Status"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"With receipts:"}),s.jsx("span",{className:"text-green-600 font-medium",children:e.costs.filter(T=>T.attachments.length>0).length})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Missing receipts:"}),s.jsx("span",{className:"text-red-600 font-medium",children:e.costs.filter(T=>T.attachments.length===0).length})]})]})]}),e.status==="active"&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Completion Status"}),s.jsx("p",{className:`font-medium ${D?"text-green-600":"text-red-600"}`,children:D?"Ready to Complete":"Cannot Complete"}),!D&&s.jsxs("p",{className:"text-xs text-red-500 mt-1",children:["Resolve ",fe," flag",fe!==1?"s":""," first"]})]})]})]})]})})]}),s.jsxs(je,{children:[s.jsx(_s,{title:`Cost Entries (${e.costs.length})`,action:e.status==="active"&&s.jsx(O,{size:"sm",onClick:()=>h(!0),icon:s.jsx(Ro,{className:"w-4 h-4"}),children:"Add Cost Entry"})}),s.jsx(Ne,{children:s.jsx(np,{costs:e.costs,onEdit:e.status==="active"?R:void 0,onDelete:e.status==="active"?P:void 0})})]}),e.status==="active"&&s.jsxs(s.Fragment,{children:[s.jsx(Xt,{isOpen:m,onClose:ct,title:f?"Edit Cost Entry":"Add Cost Entry",maxWidth:"lg",children:s.jsx(tp,{tripId:e.id,cost:f,onSubmit:f?k:w,onCancel:ct})}),s.jsx(Xt,{isOpen:C,onClose:()=>j(!1),title:"Generate System Costs",maxWidth:"2xl",children:s.jsx(sp,{trip:e,onGenerateSystemCosts:B})}),s.jsx(Xt,{isOpen:d,onClose:()=>u(!1),title:"Trip Planning & Timeline",maxWidth:"2xl",children:s.jsx(ip,{trip:e,onUpdate:i,onAddDelay:T=>c(e.id,T)})})]}),e.status==="completed"&&s.jsx(lp,{isOpen:v,trip:e,onClose:()=>N(!1),onSubmit:te,onAddAdditionalCost:Ce,onRemoveAdditionalCost:ae}),s.jsx(Xt,{isOpen:p,onClose:()=>g(!1),title:"Trip Report",maxWidth:"2xl",children:s.jsx(rp,{trip:e})})]})},op=({isOpen:e,cost:t,onClose:n,onResolve:r})=>{const[l,i]=E.useState({amount:"",notes:"",resolutionComment:""}),[a,o]=E.useState(null),[c,m]=E.useState({});yd.useEffect(()=>{t&&(i({amount:t.amount.toString(),notes:t.notes||"",resolutionComment:""}),o(null),m({}))},[t]);const h=(d,u)=>{i(f=>({...f,[d]:u})),c[d]&&m(f=>({...f,[d]:""}))},p=()=>{const d={};(!l.amount||isNaN(Number(l.amount)))&&(d.amount="Amount must be a valid number"),Number(l.amount)<=0&&(d.amount="Amount must be greater than 0"),l.resolutionComment.trim()||(d.resolutionComment="Resolution comment is required for audit purposes");const u=t&&Number(l.amount)!==t.amount,f=t&&l.notes!==(t.notes||""),x=a&&a.length>0;return!u&&!f&&!x&&(d.general="Please make at least one change (amount, notes, or upload document) to resolve this flag."),m(d),Object.keys(d).length===0},g=()=>{if(!t||!p())return;const d=a?Array.from(a).map((f,x)=>({id:St(),costEntryId:t.id,filename:f.name,fileUrl:URL.createObjectURL(f),fileType:f.type,fileSize:f.size,uploadedAt:new Date().toISOString(),fileData:""})):[],u={...t,amount:Number(l.amount),notes:l.notes,attachments:[...t.attachments,...d],investigationStatus:"resolved",investigationNotes:t.investigationNotes?`${t.investigationNotes}

Resolution: ${l.resolutionComment}`:`Resolution: ${l.resolutionComment}`,resolvedAt:new Date().toISOString(),resolvedBy:"Current User"};r(u,l.resolutionComment),n()},C=()=>{i({amount:"",notes:"",resolutionComment:""}),o(null),m({}),n()};if(!t)return null;const j=Number(l.amount)!==t.amount,v=l.notes!==(t.notes||""),N=a&&a.length>0;return s.jsx(Xt,{isOpen:e,onClose:C,title:"Resolve Flagged Cost Entry",maxWidth:"lg",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Le,{className:"w-5 h-5 text-amber-600 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-medium text-amber-800",children:"Flagged Cost Entry"}),s.jsxs("div",{className:"text-sm text-amber-700 mt-2 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Category:"})," ",t.category," - ",t.subCategory]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Original Amount:"})," ",z(t.amount,t.currency)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",Tn(t.date)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Reference:"})," ",t.referenceNumber]}),t.flagReason&&s.jsxs("p",{children:[s.jsx("strong",{children:"Flag Reason:"})," ",t.flagReason]}),t.noDocumentReason&&s.jsxs("p",{children:[s.jsx("strong",{children:"Missing Document Reason:"})," ",t.noDocumentReason]})]})]})]})}),t.attachments.length>0&&s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-2",children:"Current Attachments"}),s.jsx("div",{className:"space-y-2",children:t.attachments.map(d=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(gi,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-gray-700",children:d.filename}),s.jsxs("span",{className:"text-gray-500",children:["(",d.fileSize?`${(d.fileSize/1024).toFixed(1)} KB`:"Unknown size",")"]})]},d.id))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Resolution Actions"}),s.jsxs("div",{children:[s.jsx(de,{label:`Corrected Amount (${t.currency})`,type:"number",value:l.amount,onChange:d=>h("amount",d),error:c.amount}),j&&s.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:s.jsxs("p",{className:"text-blue-800",children:[s.jsx("strong",{children:"Amount Change:"})," ",z(t.amount,t.currency),"  ",z(Number(l.amount)||0,t.currency),s.jsxs("span",{className:"ml-2",children:["(",Number(l.amount)>t.amount?"+":"",z((Number(l.amount)||0)-t.amount,t.currency),")"]})]})})]}),s.jsxs("div",{children:[s.jsx(or,{label:"Updated Notes",value:l.notes,onChange:d=>h("notes",d.target.value),placeholder:"Add or update notes for this cost entry...",rows:3}),v&&s.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-sm",children:s.jsx("p",{className:"text-green-800",children:" Notes will be updated"})})]}),s.jsxs("div",{children:[s.jsx(ed,{label:"Upload Missing Documents",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",multiple:!0,onFileSelect:o}),N&&s.jsxs("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-sm",children:[s.jsxs("p",{className:"text-green-800 font-medium mb-1",children:[" ",a.length," file(s) will be uploaded:"]}),s.jsx("ul",{className:"text-green-700 space-y-1",children:Array.from(a).map((d,u)=>s.jsxs("li",{className:"flex items-center",children:[s.jsx(ut,{className:"w-3 h-3 mr-2"}),d.name," (",(d.size/1024).toFixed(1)," KB)"]},u))})]})]}),s.jsxs("div",{children:[s.jsx(or,{label:"Resolution Comment (Required) *",value:l.resolutionComment,onChange:d=>h("resolutionComment",d.target.value),placeholder:"Explain what was corrected and why (e.g., 'Uploaded missing receipt', 'Corrected amount based on actual invoice', 'Added clarification notes')...",rows:3,error:c.resolutionComment}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This comment will be logged for audit purposes and included in reports."})]})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Resolution Summary"}),s.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[j&&s.jsxs("p",{children:[" Amount will be corrected from ",z(t.amount,t.currency)," to ",z(Number(l.amount)||0,t.currency)]}),v&&s.jsx("p",{children:" Notes will be updated"}),N&&s.jsxs("p",{children:[" ",a.length," document(s) will be uploaded"]}),s.jsx("p",{children:' Flag status will be marked as "Resolved"'}),s.jsx("p",{children:" Resolution will be logged with timestamp and user"})]})]}),c.general&&s.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:c.general}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx(O,{variant:"outline",onClick:C,icon:s.jsx(Mr,{className:"w-4 h-4"}),children:"Cancel"}),s.jsx(O,{onClick:g,disabled:!l.resolutionComment.trim(),icon:s.jsx(Pt,{className:"w-4 h-4"}),children:"Resolve Flag"})]})]})})},up=({trips:e})=>{const{updateCostEntry:t}=on(),[n,r]=E.useState(null),[l,i]=E.useState(!1),[a,o]=E.useState(""),[c,m]=E.useState(""),h=Pf(e),p=h.filter(u=>{var f;return!(a&&u.investigationStatus!==a||c&&!((f=e.find(x=>x.id===u.tripId))!=null&&f.driverName.includes(c)))}),g=(u,f)=>{t(u),i(!1),r(null),alert(`Flag resolved successfully!

Resolution: ${f}

The cost entry has been updated and marked as resolved. If this was the last unresolved flag for the trip, it will be automatically moved to Completed Trips.`)},C=u=>{r(u),i(!0)},j=u=>{switch(u){case"pending":return s.jsx(zn,{className:"w-4 h-4 text-yellow-500"});case"in-progress":return s.jsx(Eo,{className:"w-4 h-4 text-blue-500"});case"resolved":return s.jsx(Pt,{className:"w-4 h-4 text-green-500"});default:return s.jsx(Le,{className:"w-4 h-4 text-red-500"})}},v=u=>{switch(u){case"pending":return"bg-yellow-50 text-yellow-800 border-yellow-200";case"in-progress":return"bg-blue-50 text-blue-800 border-blue-200";case"resolved":return"bg-green-50 text-green-800 border-green-200";default:return"bg-red-50 text-red-800 border-red-200"}},N={pending:h.filter(u=>u.investigationStatus==="pending").length,"in-progress":h.filter(u=>u.investigationStatus==="in-progress").length,resolved:h.filter(u=>u.investigationStatus==="resolved").length,total:h.length},d=[...new Set(e.map(u=>u.driverName))];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Flags & Investigations"}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(Dr,{className:"w-4 h-4"}),s.jsxs("span",{children:[N.total," total flags"]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(je,{children:s.jsx(Ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:N.pending})]}),s.jsx(zn,{className:"w-8 h-8 text-yellow-500"})]})})}),s.jsx(je,{children:s.jsx(Ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"In Progress"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:N["in-progress"]})]}),s.jsx(Eo,{className:"w-8 h-8 text-blue-500"})]})})}),s.jsx(je,{children:s.jsx(Ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Resolved"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:N.resolved})]}),s.jsx(Pt,{className:"w-8 h-8 text-green-500"})]})})}),s.jsx(je,{children:s.jsx(Ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Flags"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.total})]}),s.jsx(Le,{className:"w-8 h-8 text-red-500"})]})})})]}),s.jsxs(je,{children:[s.jsx(_s,{title:"Filter Flagged Items"}),s.jsx(Ne,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(br,{label:"Investigation Status",value:a,onChange:u=>o(u),options:[{label:"All Statuses",value:""},{label:"Pending",value:"pending"},{label:"In Progress",value:"in-progress"},{label:"Resolved",value:"resolved"}]}),s.jsx(br,{label:"Driver",value:c,onChange:u=>m(u),options:[{label:"All Drivers",value:""},...d.map(u=>({label:u,value:u}))]})]})})]}),p.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Dr,{className:"mx-auto h-10 w-10 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No flagged items"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a||c?"No items match your current filters.":"All cost entries are properly documented."})]}):s.jsx("div",{className:"space-y-4",children:p.map(u=>{const f=e.find(w=>w.id===u.tripId),x=u.investigationStatus!=="resolved";return s.jsx(je,{className:"hover:shadow-md transition-shadow",children:s.jsx(Ne,{className:"p-4",children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[j(u.investigationStatus),s.jsx("h4",{className:"font-medium text-gray-900",children:u.category}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${v(u.investigationStatus)}`,children:u.investigationStatus||"pending"}),u.investigationStatus==="resolved"&&s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:" RESOLVED"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Trip"}),s.jsxs("p",{className:"font-medium",children:["Fleet ",u.tripFleetNumber]}),s.jsx("p",{className:"text-sm text-gray-600",children:u.tripRoute})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Driver"}),s.jsx("p",{className:"font-medium",children:f==null?void 0:f.driverName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),s.jsx("p",{className:"font-medium",children:z(u.amount,u.currency)}),s.jsx("p",{className:"text-sm text-gray-600",children:Tn(u.date)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Reference"}),s.jsx("p",{className:"font-medium",children:u.referenceNumber})]})]}),u.flagReason&&s.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded",children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Flag Reason:"}),s.jsx("p",{className:"text-sm text-red-700",children:u.flagReason})]}),u.noDocumentReason&&s.jsxs("div",{className:"mb-3 p-2 bg-amber-50 border border-amber-200 rounded",children:[s.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Missing Document Reason:"}),s.jsx("p",{className:"text-sm text-amber-700",children:u.noDocumentReason})]}),u.investigationNotes&&s.jsxs("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded",children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Investigation Notes:"}),s.jsx("p",{className:"text-sm text-blue-700",children:u.investigationNotes})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Documentation Status"}),u.attachments.length>0?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{className:"w-4 h-4 text-green-600"}),s.jsxs("span",{className:"text-sm text-green-700 font-medium",children:[u.attachments.length," document(s) attached"]})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Le,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-sm text-red-700 font-medium",children:"No documents attached"})]})]}),s.jsx("div",{className:"flex justify-end space-x-2",children:x?s.jsx(O,{size:"sm",onClick:()=>C(u),icon:s.jsx(fa,{className:"w-3 h-3"}),children:"Resolve Flag"}):s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-green-600",children:[s.jsx(Pt,{className:"w-4 h-4"}),s.jsxs("span",{children:["Resolved on ",u.resolvedAt?Tn(u.resolvedAt):"Unknown"]}),u.resolvedBy&&s.jsxs("span",{children:["by ",u.resolvedBy]})]})})]})})})},u.id)})}),s.jsx(op,{isOpen:l,cost:n,onClose:()=>{i(!1),r(null)},onResolve:g})]})},cp=()=>{const{trips:e,deleteTrip:t}=on(),[n,r]=E.useState(null),[l,i]=E.useState("list"),a=h=>{r(h),i("details")},o=h=>{r(h),i("details")},c=()=>{r(null),i("list")},m=e.filter(h=>h.status==="active");return l==="details"&&n?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsx(ap,{trip:n,onBack:c})})}):l==="flags"?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("button",{onClick:c,className:"mb-6 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:" Back to Trips"}),s.jsx(up,{trips:e})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Trip Management System"}),s.jsx("p",{className:"text-gray-600",children:"Manage your fleet trips and cost tracking"})]}),s.jsx("div",{className:"flex space-x-4",children:s.jsx("button",{onClick:()=>i("flags"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"View Flags & Investigations"})})]}),s.jsx(Jf,{trips:m,onEdit:o,onDelete:t,onView:a})]})})};function dp(){return s.jsx(zf,{children:s.jsx(cp,{})})}Hc(document.getElementById("root")).render(s.jsx(E.StrictMode,{children:s.jsx(dp,{})}));
